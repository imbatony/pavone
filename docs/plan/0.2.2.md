# PAVOne v0.2.2 å¼€å‘è®¡åˆ’

## ğŸ“Š æ€»ä½“è¿›åº¦æ‘˜è¦ï¼ˆæ›´æ–°äº 2025-12-30ï¼‰

**æ•´ä½“è¿›åº¦**: çº¦ 80% å®Œæˆ

### âœ… å·²å®Œæˆï¼ˆ100%ï¼‰
1. **æ’ä»¶æ¶æ„ç»Ÿä¸€** 
   - âœ… JTable æ’ä»¶å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰
   - âœ… Memojav æ’ä»¶å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰
   - âœ… æ’ä»¶æµ‹è¯•ï¼ˆ44ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
   - âœ… æ’ä»¶æ³¨å†Œå’Œé…ç½®

2. **æ–‡ä»¶æ•´ç†åŠŸèƒ½ - æ ¸å¿ƒç»„ä»¶**
   - âœ… **FilenameParser**ï¼ˆ188/188 æµ‹è¯•é€šè¿‡ï¼‰
     - æ–‡ä»¶åæ­£è§„åŒ–
     - ä»£ç æå–ï¼ˆå¤ç”¨ CodeExtractUtilsï¼‰
     - å…ƒæ•°æ®æç¤ºæå–
     - è§†é¢‘æ–‡ä»¶æ£€æµ‹
   - âœ… **SearchManager**ï¼ˆ19/19 æµ‹è¯•é€šè¿‡ï¼‰
     - åŸºç¡€æœç´¢åŠŸèƒ½ï¼ˆä» PluginManager è¿ç§»ï¼‰
     - URL/ä»£ç å»é‡
     - æœ€ä½³åŒ¹é…é€‰æ‹©
     - ç«™ç‚¹è¿‡æ»¤
     - å…¨å±€å®ä¾‹ç®¡ç†
   - âœ… **MetadataManager**ï¼ˆ21/21 æµ‹è¯•é€šè¿‡ï¼‰
     - ç»Ÿä¸€å…ƒæ•°æ®è·å–æ¥å£
     - æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼ˆURL + ä»£ç åŒé”®ç¼“å­˜ï¼‰
     - æ‰¹é‡å¤„ç†æ”¯æŒ
     - æ’ä»¶è‡ªåŠ¨é€‰æ‹©
     - SearchResult é›†æˆ
     - å…¨å±€å®ä¾‹ç®¡ç†
   - âœ… **FileOperationBuilder**ï¼ˆ23/23 æµ‹è¯•é€šè¿‡ï¼Œ2025-12-30 å®Œæˆï¼‰
     - æ–‡ä»¶åç”Ÿæˆï¼ˆæ”¯æŒå¤šç§æ¨¡æ¿ï¼‰
     - æ–‡ä»¶æ“ä½œæ„å»ºï¼ˆMOVE ç±»å‹ï¼‰
     - å†²çªå¤„ç†ç­–ç•¥ï¼ˆrename/skip/overwriteï¼‰
     - æ‰¹é‡æ“ä½œæ”¯æŒ
     - æ–‡ä»¶åæ¸…ç†å’ŒéªŒè¯
   - âœ… **FileMover + ExecutionManager æ‰©å±•**ï¼ˆ19/19 æµ‹è¯•é€šè¿‡ï¼Œ2025-12-30 å®Œæˆï¼‰
     - FileMover å®ç°æ–‡ä»¶ç§»åŠ¨æ“ä½œï¼ˆ203 è¡Œï¼‰
     - å®Œæ•´çš„éªŒè¯æœºåˆ¶ï¼ˆæºæ–‡ä»¶ã€ç›®æ ‡ç›®å½•ã€æƒé™æ£€æŸ¥ï¼‰
     - å®‰å…¨è¦†ç›–æœºåˆ¶ï¼ˆå¤‡ä»½ + å›æ»šï¼‰
     - ExecutionManager é›†æˆ MOVE æ“ä½œæ”¯æŒ
     - é”™è¯¯å¤„ç†å’Œå¼‚å¸¸é‡æ–°æŠ›å‡º

3. **ä»£ç è´¨é‡å’Œå·¥å…·é…ç½®**
   - âœ… Pyright é…ç½®ä¼˜åŒ–ï¼ˆæ’é™¤ tests ç›®å½•ï¼‰
   - âœ… VSCode è®¾ç½®åŒæ­¥ï¼ˆPylance ä¸ CLI ä¸€è‡´ï¼‰
   - âœ… æ‰€æœ‰ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡ï¼ˆformat + lint + type-checkï¼‰
   - âœ… æ€»è®¡ 270 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ˆ+42 æ–°å¢ï¼‰

### â³ è¿›è¡Œä¸­ï¼ˆ0%ï¼‰
4. **æ–‡ä»¶æ•´ç†åŠŸèƒ½ - å‰©ä½™ç»„ä»¶**
   - âœ… é…ç½®æ¡†æ¶å·²å»ºç«‹
   - âœ… CLI å‘½ä»¤æ¡†æ¶å·²åˆ›å»º
   - âœ… Executor æ‰©å±•å®Œæˆï¼ˆ2025-12-30ï¼‰
   - âŒ CLI å‘½ä»¤å®ç°ï¼ˆä¸‹ä¸€ä¼˜å…ˆçº§ï¼‰

### âŒ å¾…å¼€å§‹ï¼ˆ0%ï¼‰

5. **æµ‹è¯•å’Œæ–‡æ¡£**
   - âŒ æ–‡ä»¶æ•´ç†åŠŸèƒ½é›†æˆæµ‹è¯•
   - âŒ æ€§èƒ½æµ‹è¯•
   - âŒ æ–‡æ¡£æ›´æ–°

**æ¶æ„ä¼˜åŒ–**:
- âœ… FilenameParser å°†å¤ç”¨ç»è¿‡å……åˆ†æµ‹è¯•çš„ `CodeExtractUtils`
- âœ… SearchManager å°†å¤ç”¨ `PluginManager.search()`ï¼ŒèŒè´£æ›´æ¸…æ™°
- âœ… MetadataManager å°†ç»Ÿä¸€ç®¡ç†å…ƒæ•°æ®å¤„ç†é€»è¾‘ï¼ˆä» CLI è¿ç§»ï¼‰
- âœ… PluginManager å¯è€ƒè™‘ç§»è‡³ `manager` åŒ…ï¼Œèšç„¦æ’ä»¶ç®¡ç†
- âœ… é¿å…ä»£ç é‡å¤ï¼Œå‡å°‘çº¦ 1.5-2 å¤©å·¥ä½œé‡
- âœ… æé«˜ä»£ç å¤ç”¨ç‡å’Œå¯ç»´æŠ¤æ€§
- âœ… èŒè´£åˆ†ç¦»ï¼šä¸šåŠ¡é€»è¾‘åœ¨ Managerï¼Œå±•ç¤ºé€»è¾‘åœ¨ CLI

---

## ç‰ˆæœ¬æ¦‚è¿°

æœ¬ç‰ˆæœ¬ä¸»è¦èšç„¦äº**æ’ä»¶åŠŸèƒ½å®Œå–„å’Œæ¶æ„ç»Ÿä¸€**ï¼Œå°†ç°æœ‰æå–å™¨æ’ä»¶å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼Œå¹¶æ–°å¢æ–‡ä»¶æ•´ç†åŠŸèƒ½ã€‚

**ä¸»è¦ç›®æ ‡**:
- âœ… å°† JTable å’Œ Memojav æå–å™¨å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰
- âŒ å®ç° JTable å’Œ Memojav çš„æœç´¢åŠŸèƒ½ï¼ˆä¸é€‚ç”¨ï¼Œç½‘ç«™ä¸æ”¯æŒï¼‰
- â³ å¼€å‘æ–‡ä»¶æ•´ç†å‘½ä»¤ï¼Œè‡ªåŠ¨åŒ–è§†é¢‘æ–‡ä»¶ç®¡ç†ï¼ˆ80%å®Œæˆï¼‰

**ç‰ˆæœ¬ä¾èµ–**: åŸºäº v0.2.1 çš„é‡æ„æˆæœ

---

## 1. æ’ä»¶æ¶æ„ç»Ÿä¸€ (ä¼˜å…ˆçº§: é«˜) âœ…

**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆ2025-12-29ï¼‰

### 1.1 èƒŒæ™¯åˆ†æ

**å½“å‰çŠ¶æ€**:
- âœ… **MissAV**: å·²å®ç°å¤åˆå‹æ’ä»¶ï¼ˆæœç´¢ + å…ƒæ•°æ® + ä¸‹è½½ï¼‰
- âœ… **AV01**: å·²å®ç°å¤åˆå‹æ’ä»¶ï¼ˆæœç´¢ + å…ƒæ•°æ® + ä¸‹è½½ï¼‰
- âœ… **JTable**: å·²å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰
- âœ… **Memojav**: å·²å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰

**æˆæœ**:
1. âœ… JTable å’Œ Memojav å®ç°äº†å…ƒæ•°æ®æå–å’Œä¸‹è½½åŠŸèƒ½çš„ç»Ÿä¸€
2. âœ… æ¶æ„ä¸€è‡´ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
3. âœ… æµ‹è¯•è¦†ç›–ç‡é«˜ï¼ˆ44ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰

**è¯´æ˜**: JTable å’Œ Memojav æš‚ä¸æ”¯æŒæœç´¢åŠŸèƒ½ï¼Œå› ä¸ºè¿™äº›ç½‘ç«™ä¸æä¾›æœç´¢ API

### 1.2 JTableExtractor å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ âœ…

#### 1.2.1 å½“å‰æ¶æ„åˆ†æ

**æ–‡ä»¶**: `pavone/plugins/extractors/jtable.py` â†’ `pavone/plugins/jtable_plugin.py`

**å½“å‰åŠŸèƒ½**:
- âœ… URLå¤„ç†å’ŒéªŒè¯
- âœ… M3U8é“¾æ¥æå–
- âœ… å…ƒæ•°æ®æå–ï¼ˆæ ‡é¢˜ã€ä»£ç ã€æ¼”å‘˜ã€å‘å¸ƒæ—¥æœŸã€ç±»å‹ã€æ ‡ç­¾ç­‰ï¼‰
- âœ… å°é¢å›¾ç‰‡æå–
- âœ… å…ƒæ•°æ®æå–æ¥å£ï¼ˆæ–°å¢ï¼‰

**çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)

**ä»£ç ç‰¹å¾**:
```python
class JTableExtractor(ExtractorPlugin):
    def extract(self, url: str) -> List[OperationItem]:
        # 1. æå–m3u8é“¾æ¥
        # 2. æå–å…ƒæ•°æ®ï¼ˆæ··åˆåœ¨extractorä¸­ï¼‰
        # 3. åˆ›å»ºMetadataBuilder
        # 4. åˆ›å»ºOperationItemBuilder
```

#### 1.2.2 é‡æ„ä»»åŠ¡

##### ä»»åŠ¡ 1.1: åˆ›å»º JTablePlugin å¤åˆæ’ä»¶ âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- **æ–°å»ºæ–‡ä»¶**: `pavone/plugins/jtable_plugin.py`
- **å®ç°æ¥å£**:
  - âœ… `BasePlugin` (åŸºç¡€æ’ä»¶)
  - âœ… å…ƒæ•°æ®æå–åŠŸèƒ½ï¼ˆcan_extract, extract_metadataï¼‰
  - âœ… è§†é¢‘ä¸‹è½½åŠŸèƒ½ï¼ˆcan_handle, extractï¼‰
- **ä»£ç è¿ç§»**:
  - âœ… ä» `extractors/jtable.py` è¿ç§»å…ƒæ•°æ®æå–é€»è¾‘
  - âœ… ä» `extractors/jtable.py` è¿ç§»ä¸‹è½½é“¾æ¥æå–é€»è¾‘
  - âœ… å®ç° `_extract_all_metadata()` å…±äº«æ–¹æ³•
  - âœ… ä½¿ç”¨ MetadataBuilder å’Œ OperationItemBuilder

**æ–°æ¶æ„**:
```python
class JTablePlugin(BasePlugin):
    """JTableç»Ÿä¸€æ’ä»¶ï¼šæ”¯æŒæœç´¢ã€å…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½"""
    
    # æœç´¢åŠŸèƒ½
    def search(self, keyword: str, limit: int = 20) -> List[SearchResult]:
        """æœç´¢è§†é¢‘"""
        pass
    
    # å…ƒæ•°æ®æå–
    def can_extract(self, identifier: str) -> bool:
        """æ£€æŸ¥æ˜¯å¦èƒ½æå–å…ƒæ•°æ®"""
        pass
    
    def extract_metadata(self, identifier: str) -> Optional[MovieMetadata]:
        """æå–å…ƒæ•°æ®"""
        pass
    
    # è§†é¢‘ä¸‹è½½
    def can_handle(self, url: str) -> bool:
        """æ£€æŸ¥æ˜¯å¦èƒ½å¤„ç†URL"""
        pass
    
    def extract(self, url: str) -> List[OperationItem]:
        """æå–ä¸‹è½½é€‰é¡¹"""
        pass
```

##### ä»»åŠ¡ 1.2: å®ç° JTable æœç´¢åŠŸèƒ½
- **çŠ¶æ€**: âŒ ä¸éœ€è¦ï¼ˆJTable ä¸æ”¯æŒæœç´¢åŠŸèƒ½ï¼‰
- **è¯´æ˜**: æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼ŒJTable æ’ä»¶ä¸éœ€è¦å®ç°æœç´¢åŠŸèƒ½ï¼Œä»…å®ç°å…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½

##### ä»»åŠ¡ 1.3: æµ‹è¯•å’ŒéªŒè¯ âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- âœ… å•å…ƒæµ‹è¯•ï¼ˆ25ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
  - å…ƒæ•°æ®æå–æµ‹è¯•
  - ä¸‹è½½é“¾æ¥æå–æµ‹è¯•
  - URL å’Œä»£ç éªŒè¯æµ‹è¯•
  - ç§æœ‰æ–¹æ³•æµ‹è¯•
- âœ… é›†æˆæµ‹è¯•
  - ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
- âœ… å…¼å®¹æ€§æµ‹è¯•
  - ç¡®ä¿ä¸å½±å“ç°æœ‰åŠŸèƒ½

**å®é™…å·¥ä½œé‡**: 1 å¤©ï¼ˆ2025-12-29å®Œæˆï¼‰

---

### 1.3 MemojavExtractor å‡çº§ä¸ºå¤åˆå‹æ’ä»¶ âœ…

#### 1.3.1 å½“å‰æ¶æ„åˆ†æ

**æ–‡ä»¶**: `pavone/plugins/extractors/memojav.py` â†’ `pavone/plugins/memojav_plugin.py`

**å½“å‰åŠŸèƒ½**:
- âœ… URLå¤„ç†å’ŒéªŒè¯
- âœ… M3U8é“¾æ¥æå–
- âœ… å°é¢å›¾ç‰‡æå–
- âœ… åŸºç¡€å…ƒæ•°æ®å¤„ç†ï¼ˆä»£ç æå–ï¼‰
- âœ… å…ƒæ•°æ®æå–æ¥å£ï¼ˆæ–°å¢ï¼‰
- âœ… ä¸‹è½½åŠŸèƒ½

**çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)

**ä»£ç ç‰¹å¾**:
```python
class MemojavPlugin(ExtractorPlugin, MetadataPlugin):
    def extract(self, url: str) -> List[OperationItem]:
        # 1. æå–m3u8é“¾æ¥
        # 2. æå–å°é¢ï¼ˆç®€å•ï¼‰
        # 3. ä½¿ç”¨HTMLMetadataExtractor
        # 4. ä½¿ç”¨OperationItemBuilder
```

#### 1.3.2 é‡æ„ä»»åŠ¡

##### ä»»åŠ¡ 2.1: åˆ›å»º MemojavPlugin å¤åˆæ’ä»¶ âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- âœ… **æ–°å»ºæ–‡ä»¶**: `pavone/plugins/memojav_plugin.py`
- âœ… **å®ç°æ¥å£**:
  - `ExtractorPlugin` (è§†é¢‘ä¸‹è½½)
  - `MetadataPlugin` (å…ƒæ•°æ®æå–)
- âœ… **ä»£ç è¿ç§»å’Œå¢å¼º**:
  - ä» `extractors/memojav.py` è¿ç§»ä¸‹è½½é“¾æ¥æå–é€»è¾‘
  - å®ç°å…ƒæ•°æ®æå–åŠŸèƒ½
  - ä½¿ç”¨ HTMLMetadataExtractor å’Œ MetadataBuilder

**æ–°æ¶æ„**:
```python
class MemojavPlugin(ExtractorPlugin, MetadataPlugin):
    """Memojavç»Ÿä¸€æ’ä»¶ï¼šæ”¯æŒå…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½"""
    
    def can_extract(self, identifier: str) -> bool:
        """æ£€æŸ¥æ˜¯å¦èƒ½æå–å…ƒæ•°æ®"""
        pass
    
    def extract_metadata(self, identifier: str) -> Optional[MovieMetadata]:
        """æå–å…ƒæ•°æ®"""
        pass
    
    def can_handle(self, url: str) -> bool:
        """æ£€æŸ¥æ˜¯å¦èƒ½å¤„ç†URL"""
        pass
    
    def extract(self, url: str) -> List[OperationItem]:
        """æå–ä¸‹è½½é€‰é¡¹"""
        pass
```

##### ä»»åŠ¡ 2.2: å®ç° Memojav æœç´¢åŠŸèƒ½
- **çŠ¶æ€**: âŒ ä¸éœ€è¦ï¼ˆMemojav ä¸æ”¯æŒæœç´¢åŠŸèƒ½ï¼‰
- **è¯´æ˜**: æ ¹æ®ç½‘ç«™åˆ†æï¼ŒMemojav æ’ä»¶æš‚ä¸å®ç°æœç´¢åŠŸèƒ½ï¼Œä»…å®ç°å…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½

##### ä»»åŠ¡ 2.3: å¢å¼ºå…ƒæ•°æ®æå– âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- âœ… **è¡¥å……å…ƒæ•°æ®å­—æ®µ**:
  - æ ‡é¢˜
  - ä»£ç 
  - å°é¢å›¾ç‰‡
  - ç½‘ç«™ä¿¡æ¯
- âœ… **ä½¿ç”¨å·¥å…·ç±»**:
  - `HTMLMetadataExtractor` æå–OGæ ‡ç­¾
  - `MetadataBuilder` æ„å»ºå…ƒæ•°æ®å¯¹è±¡
  - `CodeExtractUtils` æ ‡å‡†åŒ–ä»£ç 

##### ä»»åŠ¡ 2.4: æµ‹è¯•å’ŒéªŒè¯ âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- âœ… å•å…ƒæµ‹è¯•ï¼ˆ19ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
  - å…ƒæ•°æ®æå–æµ‹è¯•
  - ä¸‹è½½é“¾æ¥æå–æµ‹è¯•
  - URL å’Œä»£ç éªŒè¯æµ‹è¯•
  - ç§æœ‰æ–¹æ³•æµ‹è¯•
- âœ… é›†æˆæµ‹è¯•
  - ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
- âœ… å…¼å®¹æ€§æµ‹è¯•
  - ç¡®ä¿ä¸å½±å“ç°æœ‰åŠŸèƒ½

**å®é™…å·¥ä½œé‡**: 1 å¤©ï¼ˆ2025-12-29å®Œæˆï¼‰

---

### 1.4 æ’ä»¶æ³¨å†Œå’Œé…ç½®

#### ä»»åŠ¡ 3.1: æ›´æ–°æ’ä»¶ç®¡ç†å™¨ âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆ (2025-12-29)
- âœ… **æ³¨å†Œæ–°æ’ä»¶**:
  - åœ¨ `pavone/plugins/__init__.py` ä¸­æ³¨å†Œ `JTablePlugin`
  - åœ¨ `pavone/plugins/__init__.py` ä¸­æ³¨å†Œ `MemojavPlugin`
- âœ… **æ—§æ’ä»¶å¤„ç†**:
  - ä¿ç•™ `extractors/` ç›®å½•ä½œä¸ºå‘åå…¼å®¹
  - æ–°æ’ä»¶å·²ç‹¬ç«‹å®ç°

#### ä»»åŠ¡ 3.2: æ›´æ–°æ–‡æ¡£
- [ ] **APIæ–‡æ¡£æ›´æ–°**:
  - JTablePlugin ä½¿ç”¨è¯´æ˜
  - MemojavPlugin ä½¿ç”¨è¯´æ˜
- [ ] **è¿ç§»æŒ‡å—**:
  - è¯´æ˜æ¶æ„å˜æ›´
  - æä¾›ç¤ºä¾‹ä»£ç 
- [ ] **å˜æ›´æ—¥å¿—**:
  - è®°å½•æ’ä»¶å‡çº§ä¿¡æ¯

**é¢„è®¡å·¥ä½œé‡**: 1 å¤©

---

## 2. æ–‡ä»¶æ•´ç†åŠŸèƒ½å¼€å‘ (ä¼˜å…ˆçº§: é«˜) â³

### 2.1 åŠŸèƒ½æ¦‚è¿°

**ç›®æ ‡**: è‡ªåŠ¨æ•´ç†æœ¬åœ°è§†é¢‘æ–‡ä»¶ï¼Œé€šè¿‡æœç´¢å’Œå…ƒæ•°æ®æå–ï¼Œç”Ÿæˆæ ‡å‡†åŒ–çš„æ–‡ä»¶åå’Œç›®å½•ç»“æ„ã€‚

**çŠ¶æ€**: â³ è¿›è¡Œä¸­ï¼ˆåŸºç¡€æ¡†æ¶å·²å»ºç«‹ï¼Œæ ¸å¿ƒåŠŸèƒ½å¾…å®ç°ï¼‰

**å·²å®Œæˆ**:
- âœ… é…ç½®æ¡†æ¶ï¼ˆ`organize` é…ç½®é¡¹ï¼‰
- âœ… CLI å‘½ä»¤æ¡†æ¶ï¼ˆ`organize.py` å·²åˆ›å»ºï¼‰
- âœ… **FilenameParser**ï¼ˆ`pavone/utils/filename_parser.py`ï¼Œ188ä¸ªæµ‹è¯•é€šè¿‡ï¼‰
- âœ… **SearchManager**ï¼ˆ`pavone/manager/search_manager.py`ï¼Œ19ä¸ªæµ‹è¯•é€šè¿‡ï¼‰

**å¾…å®Œæˆ**:
- âŒ å…ƒæ•°æ®ç®¡ç†å™¨ï¼ˆMetadataManagerï¼‰
- âŒ æ–‡ä»¶æ“ä½œæ„å»ºå™¨ï¼ˆFileOperationBuilderï¼‰
- âŒ æ‰§è¡Œå™¨æ‰©å±•
- âŒ å®Œæ•´çš„ organize å‘½ä»¤å®ç°

**æ ¸å¿ƒæµç¨‹**:
```
åŸå§‹æ–‡ä»¶ â†’ FilenameParser(âœ…) â†’ SearchManager(âœ…) â†’ MetadataManager(âŒ) â†’ FileOperationBuilder(âŒ) â†’ Executor(âŒ)
```

### 2.2 å®ç°è®¾è®¡

#### 2.2.1 æ–‡ä»¶åæ­£è§„åŒ–

**ä»»åŠ¡ 4.1: åˆ›å»ºæ–‡ä»¶åè§£æå·¥å…·** âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆ2025-12-30ï¼‰
- **ä½ç½®**: `pavone/utils/filename_parser.py`
- **æµ‹è¯•**: 188ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- **åŠŸèƒ½**:
  - âœ… ä»æ–‡ä»¶åæå–è§†é¢‘ä»£ç ï¼ˆå¤ç”¨ `CodeExtractUtils`ï¼‰
  - âœ… æ–‡ä»¶åé¢„å¤„ç†å’Œæ­£è§„åŒ–
  - âœ… ä»æ–‡ä»¶åæå–å…ƒæ•°æ®æç¤º
  - âœ… è§†é¢‘æ–‡ä»¶æ£€æµ‹ï¼ˆæ”¯æŒå¸¸è§å’Œé¢å¤–æ ¼å¼ï¼‰

**å®ç°ä¼˜åŠ¿**:
- âœ… å¤ç”¨ç»è¿‡å……åˆ†æµ‹è¯•çš„ `CodeExtractUtils`ï¼ˆæ”¯æŒ FC2, Heyzo, ä¸œçƒ­ç­‰å¤šç§æ ¼å¼ï¼‰
- âœ… ä¸“æ³¨äºæ–‡ä»¶åç‰¹å®šçš„é¢„å¤„ç†é€»è¾‘
- âœ… é¿å…ä»£ç é‡å¤ï¼Œæ˜“äºç»´æŠ¤
- âœ… æé«˜ä»£ç æå–æˆåŠŸç‡

**å®Œæˆæ—¶é—´**: 2025-12-30ï¼ˆå®é™…ç”¨æ—¶ 0.5 å¤©ï¼‰

---

#### 2.2.2 æœç´¢æ’ä»¶è°ƒç”¨

**ä»»åŠ¡ 4.2: é‡æ„æœç´¢ç®¡ç†å™¨** âœ…
- **çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆ2025-12-30ï¼‰
- **ä½ç½®**: `pavone/manager/search_manager.py`
- **æµ‹è¯•**: 19ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- **é‡æ„æ–¹å¼**: 
  - âœ… **å¤ç”¨ç°æœ‰ä»£ç **: å°† `PluginManager.search()` æ–¹æ³•è¿ç§»åˆ° `SearchManager`
  - âœ… **æ–°å¢åŠŸèƒ½**: å¢å¼ºæœç´¢ç»“æœå¤„ç†ï¼ˆå»é‡ã€æ’åºã€æœ€ä½³åŒ¹é…ï¼‰
- **åŠŸèƒ½**:
  - âœ… åŸºç¡€æœç´¢åŠŸèƒ½ï¼ˆè·¨æ‰€æœ‰æœç´¢æ’ä»¶ï¼‰
  - âœ… URL/ä»£ç å»é‡ï¼ˆé¿å…é‡å¤ç»“æœï¼‰
  - âœ… æœ€ä½³åŒ¹é…é€‰æ‹©ï¼ˆè¿”å›ç¬¬ä¸€ä¸ªç»“æœï¼‰
  - âœ… ç«™ç‚¹è¿‡æ»¤ï¼ˆenable_sites å‚æ•°ï¼‰
  - âœ… å…¨å±€å®ä¾‹ç®¡ç†ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰
  - âœ… ä¾¿åˆ©æ–¹æ³•ï¼ˆsearch_by_code, get_available_sitesï¼‰

**è®¾è®¡è¦ç‚¹**:
- âœ… **å¤ç”¨ç°æœ‰ä»£ç **: `PluginManager.search()` å·²ç»å®ç°äº†åŸºç¡€æœç´¢åŠŸèƒ½
- âœ… **èŒè´£åˆ†ç¦»**: PluginManager ä¸“æ³¨æ’ä»¶ç®¡ç†ï¼ŒSearchManager ä¸“æ³¨æœç´¢ä¸šåŠ¡é€»è¾‘
- âœ… **ç±»å‹å®‰å…¨**: ä½¿ç”¨ TYPE_CHECKING é¿å…å¾ªç¯å¯¼å…¥ï¼Œæ·»åŠ å®Œæ•´ç±»å‹æ³¨è§£

**å®Œæˆæ—¶é—´**: 2025-12-30ï¼ˆå®é™…ç”¨æ—¶ 1 å¤©ï¼‰

---

#### 2.2.3 å…ƒæ•°æ®æå–

**ä»»åŠ¡ 4.3: åˆ›å»ºå…ƒæ•°æ®ç®¡ç†å™¨** â³
    
    def __init__(self, plugin_manager):
        """åˆå§‹åŒ–æœç´¢ç®¡ç†å™¨
        
        Args:
            plugin_manager: æ’ä»¶ç®¡ç†å™¨å®ä¾‹
        """
        self.plugin_manager = plugin_manager
        self.logger = get_logger(__name__)
    
    def search(
        self, 
        keyword: str, 
        limit: int = 20, 
        enable_sites: Optional[List[str]] = None
    ) -> List[SearchResult]:
        """åœ¨æ‰€æœ‰æœç´¢æ’ä»¶ä¸­æ‰§è¡Œæœç´¢ï¼ˆä» PluginManager è¿ç§»ï¼‰
        
        Args:
            keyword: æœç´¢å…³é”®è¯ï¼ˆé€šå¸¸æ˜¯è§†é¢‘ä»£ç ï¼‰
            limit: æ¯ä¸ªæ’ä»¶çš„ç»“æœæ•°é‡é™åˆ¶
            enable_sites: å¯ç”¨çš„ç«™ç‚¹åˆ—è¡¨ï¼ˆNoneåˆ™ä½¿ç”¨æ‰€æœ‰ï¼Œ["All"]è¡¨ç¤ºæ‰€æœ‰ï¼‰
        
        Returns:
            åˆå¹¶åçš„æœç´¢ç»“æœ
        """
        search_plugins = self.plugin_manager.get_all_search_plugins()
        
        if not search_plugins:
            self.logger.warning("æ²¡æœ‰å¯ç”¨çš„æœç´¢æ’ä»¶")
            return []
        
        results: List[SearchResult] = []
        is_all_enabled = enable_sites and len(enable_sites) == 1 and enable_sites[0] == "All"
        
        if enable_sites is None:
            enable_sites = [plugin.get_site_name() for plugin in search_plugins]
        
        for plugin in search_plugins:
            if not is_all_enabled and plugin.get_site_name() not in enable_sites:
                continue
            try:
                plugin_results = plugin.search(keyword, limit)
                results.extend(plugin_results)
            except Exception as e:
                self.logger.error(f"æœç´¢æ’ä»¶ {plugin.name} æ‰§è¡Œå¤±è´¥: {e}")
        
        return results
    
    def search_with_dedup(
        self, 
        keyword: str, 
        limit: int = 20,
        enable_sites: Optional[List[str]] = None
    ) -> List[SearchResult]:
        """æ‰§è¡Œæœç´¢å¹¶å»é‡ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
        
        Args:
            keyword: æœç´¢å…³é”®è¯
            limit: æ¯ä¸ªæ’ä»¶çš„ç»“æœæ•°é‡é™åˆ¶
            enable_sites: å¯ç”¨çš„ç«™ç‚¹åˆ—è¡¨
        
        Returns:
            å»é‡åçš„æœç´¢ç»“æœï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
        """
        results = self.search(keyword, limit, enable_sites)
        
        # å»é‡ï¼ˆç›¸åŒURLæˆ–codeï¼‰
        seen_urls = set()
        seen_codes = set()
        deduped_results = []
        
        for result in results:
            # æ£€æŸ¥URLå»é‡
            if result.url and result.url in seen_urls:
                continue
            # æ£€æŸ¥ä»£ç å»é‡
            if result.code and result.code in seen_codes:
                continue
            
            if result.url:
                seen_urls.add(result.url)
            if result.code:
                seen_codes.add(result.code)
            
            deduped_results.append(result)
        
        return deduped_results
    
    def get_best_match(
        self, 
        keyword: str,
        enable_sites: Optional[List[str]] = None
    ) -> Optional[SearchResult]:
        """è·å–æœ€ä½³åŒ¹é…ç»“æœï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
        
        Args:
            keyword: æœç´¢å…³é”®è¯
            enable_sites: å¯ç”¨çš„ç«™ç‚¹åˆ—è¡¨
        
        Returns:
            æœ€ä½³åŒ¹é…çš„æœç´¢ç»“æœï¼ˆç¬¬ä¸€ä¸ªç»“æœï¼‰
        """
        results = self.search_with_dedup(keyword, limit=5, enable_sites=enable_sites)
        
        if not results:
            return None
        
        # è¿”å›ç¬¬ä¸€ä¸ªç»“æœä½œä¸ºæœ€ä½³åŒ¹é…
        # æœªæ¥å¯ä»¥å¢åŠ æ›´å¤æ‚çš„åŒ¹é…ç®—æ³•ï¼ˆå¦‚ç›¸ä¼¼åº¦è®¡ç®—ï¼‰
        return results[0]
```

**æ¶æ„ä¼˜åŒ–**:
1. **èŒè´£åˆ†ç¦»**:
   - `PluginManager`: æ’ä»¶åŠ è½½ã€æ³¨å†Œã€ç®¡ç†
   - `SearchManager`: æœç´¢ä¸šåŠ¡é€»è¾‘ã€ç»“æœå¤„ç†

2. **ä»£ç å¤ç”¨**:
   - è¿ç§» `PluginManager.search()` åˆ° `SearchManager.search()`
   - é¿å…é‡å¤å®ç°

3. **æ‰©å±•æ€§**:
   - æ˜“äºæ·»åŠ æ–°çš„æœç´¢åŠŸèƒ½ï¼ˆå¦‚å»é‡ã€æ’åºã€è¿‡æ»¤ï¼‰
   - ä¸å½±å“ PluginManager çš„æ ¸å¿ƒèŒè´£

**é¢„è®¡å·¥ä½œé‡**: 0.5-1 å¤©ï¼ˆå› å¤ç”¨ç°æœ‰ä»£ç ï¼Œä¸»è¦æ˜¯é‡æ„å’Œè¿ç§»ï¼‰

---

#### 2.2.2.1 å¯é€‰ï¼šPluginManager é‡æ„

**ä»»åŠ¡ 4.2.1: ç§»åŠ¨ PluginManager åˆ° manager åŒ…ï¼ˆå¯é€‰ï¼‰**
- [ ] **ä½ç½®**: `pavone/plugins/manager.py` â†’ `pavone/manager/plugin_manager.py`
- [ ] **é‡æ„å†…å®¹**:
  - ç§»åŠ¨æ–‡ä»¶åˆ° `pavone/manager/` ç›®å½•
  - æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„
  - ä¿æŒ API å…¼å®¹æ€§
- [ ] **èŒè´£ä¼˜åŒ–**:
  - ç§»é™¤ `search()` æ–¹æ³•ï¼ˆç”± SearchManager è´Ÿè´£ï¼‰
  - ä¸“æ³¨äºæ’ä»¶çš„åŠ è½½ã€æ³¨å†Œã€ç®¡ç†

**ä¼˜åŠ¿**:
- âœ… ç»Ÿä¸€ manager åŒ…çš„ç»„ç»‡ç»“æ„
- âœ… èŒè´£æ›´æ¸…æ™°ï¼šPluginManager ä¸“æ³¨æ’ä»¶ç®¡ç†ï¼ŒSearchManager ä¸“æ³¨æœç´¢
- âœ… æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§

**é£é™©**:
- éœ€è¦æ›´æ–°å¤§é‡å¯¼å…¥è¯­å¥
- å¯èƒ½å½±å“ç°æœ‰ä»£ç 

**å»ºè®®**: ä½œä¸ºå¯é€‰ä»»åŠ¡ï¼Œå¯ä»¥åœ¨ v0.2.3 æˆ–åç»­ç‰ˆæœ¬ä¸­å®æ–½

**é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©ï¼ˆå¦‚æœå®æ–½ï¼‰

---

#### 2.2.3 å…ƒæ•°æ®è·å–

**ä»»åŠ¡ 4.3: åˆ›å»º/æ‰©å±•å…ƒæ•°æ®ç®¡ç†å™¨**
- [ ] **ä½ç½®**: `pavone/manager/metadata_manager.py` (æ–°å»ºæˆ–æ‰©å±•)
- [ ] **é‡æ„æ–¹å¼**:
  - âœ… **è¿ç§»ç°æœ‰é€»è¾‘**: å°† CLI å‘½ä»¤ä¸­çš„å…ƒæ•°æ®å¤„ç†é€»è¾‘è¿ç§»åˆ° MetadataManager
  - ğŸ†• **æ–°å¢åŠŸèƒ½**: æ”¯æŒä»æœç´¢ç»“æœè·å–å…ƒæ•°æ®ã€æ‰¹é‡è·å–ç­‰
- [ ] **èŒè´£åˆ’åˆ†**:
  - `MetadataManager`: è´Ÿè´£å…ƒæ•°æ®çš„è·å–ã€å¤„ç†ã€ç¼“å­˜ç­‰ä¸šåŠ¡é€»è¾‘
  - CLI å‘½ä»¤: ä¿ç•™ç”¨æˆ·äº¤äº’å’Œç»“æœå±•ç¤ºé€»è¾‘

**å½“å‰å…ƒæ•°æ®å¤„ç†é€»è¾‘åˆ†å¸ƒ**:
```python
# pavone/cli/commands/metadata.py (å½“å‰)
@metadata.command()
def show(identifier: str, proxy: str):
    # 1. è·å–æ’ä»¶ç®¡ç†å™¨
    plugin_manager = get_plugin_manager()
    plugin_manager.load_plugins()
    
    # 2. æŸ¥æ‰¾å…ƒæ•°æ®æå–å™¨
    metadata_extractor = plugin_manager.get_metadata_extractor(identifier)
    
    # 3. æå–å…ƒæ•°æ®
    metadata_obj = metadata_extractor.extract_metadata(identifier)
    
    # 4. æ ¼å¼åŒ–è¾“å‡ºï¼ˆä¿ç•™åœ¨CLIï¼‰
    format_metadata_output(metadata_obj)
```

**é‡æ„åçš„æ¶æ„**:
```python
# pavone/manager/metadata_manager.py (æ–°å»º)
from typing import Optional, List, Dict, Any
from ..models import MovieMetadata, SearchResult
from ..plugins.manager import PluginManager
from ..config.logging_config import get_logger

class MetadataManager:
    """å…ƒæ•°æ®ç®¡ç†å™¨
    
    è´Ÿè´£å…ƒæ•°æ®çš„è·å–ã€å¤„ç†ã€ç¼“å­˜ç­‰ä¸šåŠ¡é€»è¾‘ã€‚
    å°†åŸæœ‰æ•£è½åœ¨ CLI å‘½ä»¤ä¸­çš„å…ƒæ•°æ®å¤„ç†é€»è¾‘ç»Ÿä¸€ç®¡ç†ã€‚
    """
    
    def __init__(self, plugin_manager: PluginManager):
        """åˆå§‹åŒ–å…ƒæ•°æ®ç®¡ç†å™¨
        
        Args:
            plugin_manager: æ’ä»¶ç®¡ç†å™¨å®ä¾‹
        """
        self.plugin_manager = plugin_manager
        self.logger = get_logger(__name__)
        self._cache: Dict[str, MovieMetadata] = {}
    
    def get_metadata(self, identifier: str) -> Optional[MovieMetadata]:
        """è·å–å…ƒæ•°æ®ï¼ˆä» CLI metadata.py è¿ç§»ï¼‰
        
        Args:
            identifier: æ ‡è¯†ç¬¦ï¼ˆURL æˆ–ä»£ç ï¼‰
        
        Returns:
            å…ƒæ•°æ®å¯¹è±¡ï¼Œå¤±è´¥è¿”å› None
        """
        # 1. æ£€æŸ¥ç¼“å­˜
        if identifier in self._cache:
            self.logger.debug(f"ä»ç¼“å­˜è·å–å…ƒæ•°æ®: {identifier}")
            return self._cache[identifier]
        
        # 2. æŸ¥æ‰¾å…ƒæ•°æ®æå–å™¨
        metadata_extractor = self.plugin_manager.get_metadata_extractor(identifier)
        
        if not metadata_extractor:
            self.logger.warning(f"æœªæ‰¾åˆ°èƒ½å¤„ç†è¯¥æ ‡è¯†ç¬¦çš„å…ƒæ•°æ®æ’ä»¶: {identifier}")
            return None
        
        # 3. æå–å…ƒæ•°æ®
        self.logger.info(f"æ­£åœ¨æå–å…ƒæ•°æ®: {identifier}")
        try:
            metadata = metadata_extractor.extract_metadata(identifier)
            
            # 4. ç¼“å­˜ç»“æœ
            if metadata:
                self._cache[identifier] = metadata
            
            return metadata
            
        except Exception as e:
            self.logger.error(f"å…ƒæ•°æ®æå–å¤±è´¥: {e}")
            return None
    
    def get_metadata_from_search_result(
        self, 
        search_result: SearchResult
    ) -> Optional[MovieMetadata]:
        """ä»æœç´¢ç»“æœè·å–å…ƒæ•°æ®ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
        
        Args:
            search_result: æœç´¢ç»“æœå¯¹è±¡
        
        Returns:
            å…ƒæ•°æ®å¯¹è±¡
        
        æµç¨‹:
        1. ä¼˜å…ˆä½¿ç”¨ URL æå–å…ƒæ•°æ®ï¼ˆå¦‚æœæœ‰ extractorï¼‰
        2. å°è¯•ä½¿ç”¨ identifier/code æå–å…ƒæ•°æ®
        3. ä½¿ç”¨æœç´¢ç»“æœä¸­çš„åŸºç¡€ä¿¡æ¯æ„å»ºå…ƒæ•°æ®
        """
        # 1. å°è¯•ä½¿ç”¨ URL
        if search_result.url:
            metadata = self.get_metadata(search_result.url)
            if metadata:
                return metadata
        
        # 2. å°è¯•ä½¿ç”¨ code
        if search_result.code:
            metadata = self.get_metadata(search_result.code)
            if metadata:
                return metadata
        
        # 3. ä½¿ç”¨æœç´¢ç»“æœæ„å»ºåŸºç¡€å…ƒæ•°æ®
        self.logger.warning(f"æ— æ³•ä»æœç´¢ç»“æœè·å–å®Œæ•´å…ƒæ•°æ®ï¼Œä½¿ç”¨åŸºç¡€ä¿¡æ¯: {search_result.title}")
        
        # TODO: ä» SearchResult æ„å»º MovieMetadata
        # éœ€è¦æ£€æŸ¥ SearchResult å’Œ MovieMetadata çš„å­—æ®µæ˜ å°„
        return None
    
    def batch_get_metadata(
        self, 
        identifiers: List[str],
        callback: Optional[callable] = None
    ) -> List[Optional[MovieMetadata]]:
        """æ‰¹é‡è·å–å…ƒæ•°æ®ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
        
        Args:
            identifiers: æ ‡è¯†ç¬¦åˆ—è¡¨
            callback: è¿›åº¦å›è°ƒå‡½æ•° (current, total, identifier)
        
        Returns:
            å…ƒæ•°æ®å¯¹è±¡åˆ—è¡¨ï¼ˆä¿æŒé¡ºåºï¼Œå¤±è´¥çš„ä¸º Noneï¼‰
        """
        results = []
        total = len(identifiers)
        
        for idx, identifier in enumerate(identifiers, 1):
            # è¿›åº¦å›è°ƒ
            if callback:
                callback(idx, total, identifier)
            
            # è·å–å…ƒæ•°æ®
            metadata = self.get_metadata(identifier)
            results.append(metadata)
        
        return results
    
    def clear_cache(self):
        """æ¸…ç©ºç¼“å­˜"""
        self._cache.clear()
        self.logger.info("å…ƒæ•°æ®ç¼“å­˜å·²æ¸…ç©º")
    
    def get_available_plugins(self) -> List[str]:
        """è·å–å¯ç”¨çš„å…ƒæ•°æ®æ’ä»¶åˆ—è¡¨ï¼ˆä» CLI è¿ç§»ï¼‰
        
        Returns:
            æ’ä»¶åç§°åˆ—è¡¨
        """
        return [plugin.name for plugin in self.plugin_manager.metadata_plugins]


# ========== CLI å‘½ä»¤é‡æ„å ==========
# pavone/cli/commands/metadata.py (é‡æ„å)
from ...manager.metadata_manager import MetadataManager

@metadata.command()
def show(identifier: str, proxy: str):
    """æ˜¾ç¤ºå…ƒæ•°æ®ï¼ˆä»…ä¿ç•™äº¤äº’å’Œå±•ç¤ºé€»è¾‘ï¼‰"""
    # 1. åˆå§‹åŒ–ç®¡ç†å™¨
    metadata_manager = MetadataManager(plugin_manager)
    
    # 2. è·å–å…ƒæ•°æ®ï¼ˆä¸šåŠ¡é€»è¾‘è¿ç§»åˆ° MetadataManagerï¼‰
    metadata_obj = metadata_manager.get_metadata(identifier)
    
    if metadata_obj is None:
        echo_error("å…ƒæ•°æ®æå–å¤±è´¥")
        # æ˜¾ç¤ºå¯ç”¨æ’ä»¶
        available_plugins = metadata_manager.get_available_plugins()
        echo_info("æ”¯æŒçš„æ’ä»¶:")
        for plugin_name in available_plugins:
            echo_info(f"  - {plugin_name}")
        return 1
    
    # 3. æ ¼å¼åŒ–è¾“å‡ºï¼ˆä¿ç•™åœ¨CLIï¼‰
    format_metadata_output(metadata_obj)
    return 0
```

**è¿ç§»çš„é€»è¾‘**:
1. âœ… **å…ƒæ•°æ®è·å–**: `plugin_manager.get_metadata_extractor()` + `extract_metadata()`
2. âœ… **æ’ä»¶æŸ¥æ‰¾**: `get_available_plugins()`
3. ğŸ†• **ç¼“å­˜æœºåˆ¶**: é¿å…é‡å¤æå–
4. ğŸ†• **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡è·å–å…ƒæ•°æ®
5. ğŸ†• **æœç´¢ç»“æœè½¬æ¢**: ä» SearchResult è·å–å…ƒæ•°æ®

**ä¿ç•™åœ¨ CLI çš„é€»è¾‘**:
1. âœ… **ç”¨æˆ·äº¤äº’**: å‚æ•°è§£æã€ç”¨æˆ·ç¡®è®¤ã€è¿›åº¦æç¤º
2. âœ… **ç»“æœå±•ç¤º**: `format_metadata_output()` ç­‰æ ¼å¼åŒ–è¾“å‡º
3. âœ… **é”™è¯¯æç¤º**: `echo_error()`, `echo_info()` ç­‰

**é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©

---

#### 2.2.4 æ“ä½œé¡¹ç”Ÿæˆï¼ˆç§»åŠ¨æ–‡ä»¶ï¼‰

**ä»»åŠ¡ 4.4: æ‰©å±• OperationItem æ”¯æŒæ–‡ä»¶ç§»åŠ¨**
- [ ] **ä½ç½®**: `pavone/models/operation.py` å’Œ `pavone/models/constants.py`
- [ ] **ç°çŠ¶**: âœ… å·²æœ‰ `OperationType.MOVE` å’Œå­é¡¹æœºåˆ¶
- [ ] **ç¡®è®¤åŠŸèƒ½**:
  - âœ… `OperationType.MOVE` å·²å®šä¹‰
  - âœ… `OperationItem.append_child()` æ”¯æŒæ·»åŠ å­é¡¹
  - âœ… å­é¡¹å¯ä»¥æ˜¯å…ƒæ•°æ®ã€å°é¢ç­‰

**OperationItem ç°æœ‰èƒ½åŠ›**:
```python
# pavone/models/constants.py (å·²å­˜åœ¨)
class OperationType:
    DOWNLOAD = "download"  # ä¸‹è½½èµ„æº
    MOVE = "move"          # ç§»åŠ¨èµ„æºï¼ˆå·²å­˜åœ¨ï¼‰
    SAVE_METADATA = "save_metadata"  # ä¿å­˜å…ƒæ•°æ®

class ItemType:
    VIDEO = "video"        # è§†é¢‘æ–‡ä»¶
    IMAGE = "image"        # å›¾ç‰‡æ–‡ä»¶
    META_DATA = "metadata" # å…ƒæ•°æ®æ–‡ä»¶ï¼ˆå¦‚ NFOï¼‰

class ItemSubType:
    COVER = "cover"        # å°é¢å›¾ç‰‡
    POSTER = "poster"      # æµ·æŠ¥å›¾ç‰‡
    BACKDROP = "backdrop"  # èƒŒæ™¯å›¾ç‰‡
```

**ä½¿ç”¨ç°æœ‰ OperationItem å®ç°æ–‡ä»¶ç§»åŠ¨**:
```python
# ä¸éœ€è¦åˆ›å»º FileOperationItem ç±»ï¼Œç›´æ¥ä½¿ç”¨ OperationItem

from pavone.models import OperationItem
from pavone.models.constants import OperationType, ItemType, ItemSubType

# 1. åˆ›å»ºä¸»æ“ä½œé¡¹ï¼ˆç§»åŠ¨è§†é¢‘æ–‡ä»¶ï¼‰
move_operation = OperationItem(
    opt_type=OperationType.MOVE,
    item_type=ItemType.VIDEO,
    desc=f"ç§»åŠ¨æ–‡ä»¶: {source_path} -> {target_path}"
)
move_operation.set_url(source_path)  # æºæ–‡ä»¶è·¯å¾„
move_operation.set_target_path(target_path)  # ç›®æ ‡æ–‡ä»¶è·¯å¾„
move_operation.set_code(metadata.code)
move_operation.set_title(metadata.title)
move_operation.set_studio(metadata.studio)
move_operation.set_actors(metadata.actors)

# 2. æ·»åŠ å…ƒæ•°æ®å­é¡¹ï¼ˆä¿å­˜ NFO æ–‡ä»¶ï¼‰
if metadata:
    metadata_item = OperationItem(
        opt_type=OperationType.SAVE_METADATA,
        item_type=ItemType.META_DATA,
        desc="ä¿å­˜ NFO æ–‡ä»¶"
    )
    metadata_item.set_extra(MetadataExtraKeys.METADATA_OBJ, metadata)
    metadata_item.set_target_path(f"{target_path_without_ext}.nfo")
    move_operation.append_child(metadata_item)

# 3. æ·»åŠ å°é¢å›¾ç‰‡å­é¡¹ï¼ˆä¸‹è½½å°é¢ï¼‰
if metadata.cover:
    cover_item = OperationItem(
        opt_type=OperationType.DOWNLOAD,
        item_type=ItemType.IMAGE,
        desc="ä¸‹è½½å°é¢å›¾ç‰‡"
    )
    cover_item.set_url(metadata.cover)
    cover_item.set_subtype(ItemSubType.COVER)
    cover_item.set_target_path(f"{target_path_without_ext}-poster.jpg")
    move_operation.append_child(cover_item)

# 4. æ·»åŠ èƒŒæ™¯å›¾ç‰‡å­é¡¹ï¼ˆä¸‹è½½èƒŒæ™¯ï¼‰
if metadata.backdrop:
    backdrop_item = OperationItem(
        opt_type=OperationType.DOWNLOAD,
        item_type=ItemType.IMAGE,
        desc="ä¸‹è½½èƒŒæ™¯å›¾ç‰‡"
    )
    backdrop_item.set_url(metadata.backdrop)
    backdrop_item.set_subtype(ItemSubType.BACKDROP)
    backdrop_item.set_target_path(f"{target_path_without_ext}-fanart.jpg")
    move_operation.append_child(backdrop_item)

# è¿”å›ä¸»æ“ä½œé¡¹ï¼ˆåŒ…å«æ‰€æœ‰å­é¡¹ï¼‰
return move_operation
```

**ä»»åŠ¡ 4.5: åˆ›å»ºæ–‡ä»¶æ“ä½œé¡¹æ„å»ºå™¨**
- [ ] **ä½ç½®**: `pavone/utils/file_operation_builder.py`
- [ ] **åŠŸèƒ½**:
  - æ ¹æ®å…ƒæ•°æ®ç”Ÿæˆç›®æ ‡è·¯å¾„
  - åˆ›å»º OperationItemï¼ˆä½¿ç”¨ MOVE ç±»å‹ï¼‰
  - æ·»åŠ å…ƒæ•°æ®å’Œå›¾ç‰‡å­é¡¹
  - å¤„ç†æ–‡ä»¶åå†²çª

**ç¤ºä¾‹**:
```python
from pathlib import Path
from typing import Optional
from ..models import OperationItem, MovieMetadata
from ..models.constants import OperationType, ItemType, ItemSubType, MetadataExtraKeys

class FileOperationBuilder:
    """æ–‡ä»¶æ“ä½œé¡¹æ„å»ºå™¨
    
    ä½¿ç”¨ç°æœ‰çš„ OperationItem æ„å»ºæ–‡ä»¶ç§»åŠ¨æ“ä½œï¼Œ
    åŒ…æ‹¬ä¸»æ“ä½œï¼ˆç§»åŠ¨æ–‡ä»¶ï¼‰å’Œå­é¡¹ï¼ˆå…ƒæ•°æ®ã€å›¾ç‰‡ï¼‰ã€‚
    """
    
    def __init__(self, config: Optional[dict] = None):
        """åˆå§‹åŒ–æ„å»ºå™¨
        
        Args:
            config: é…ç½®é¡¹
                - base_dir: ç›®æ ‡åŸºç¡€ç›®å½•
                - structure: ç›®å½•ç»“æ„æ¨¡æ¿ (å¦‚: "{studio}/{code}")
                - filename_template: æ–‡ä»¶åæ¨¡æ¿ (å¦‚: "{code} {title}")
                - conflict_resolution: å†²çªè§£å†³ç­–ç•¥ (skip/rename/overwrite)
                - save_metadata: æ˜¯å¦ä¿å­˜å…ƒæ•°æ®æ–‡ä»¶
                - save_cover: æ˜¯å¦ä¿å­˜å°é¢å›¾ç‰‡
                - save_backdrop: æ˜¯å¦ä¿å­˜èƒŒæ™¯å›¾ç‰‡
        """
        self.config = config or {}
    
    def build_move_operation(
        self,
        source_path: str,
        metadata: MovieMetadata,
        dry_run: bool = False
    ) -> OperationItem:
        """æ„å»ºç§»åŠ¨æ“ä½œ
        
        Args:
            source_path: æºæ–‡ä»¶è·¯å¾„
            metadata: è§†é¢‘å…ƒæ•°æ®
            dry_run: æ˜¯å¦ä¸ºæ¨¡æ‹Ÿè¿è¡Œ
        
        Returns:
            OperationItem: åŒ…å«ä¸»æ“ä½œå’Œå­é¡¹çš„æ“ä½œå¯¹è±¡
        """
        # 1. ç”Ÿæˆç›®æ ‡è·¯å¾„
        target_path = self._generate_target_path(source_path, metadata)
        
        # 2. å¤„ç†æ–‡ä»¶åå†²çª
        if Path(target_path).exists() and not dry_run:
            target_path = self._resolve_conflict(target_path)
        
        # 3. åˆ›å»ºä¸»æ“ä½œé¡¹ï¼ˆç§»åŠ¨æ–‡ä»¶ï¼‰
        operation = OperationItem(
            opt_type=OperationType.MOVE,
            item_type=ItemType.VIDEO,
            desc=f"ç§»åŠ¨: {Path(source_path).name} -> {Path(target_path).name}"
        )
        
        operation.set_url(source_path)  # æºè·¯å¾„
        operation.set_target_path(target_path)  # ç›®æ ‡è·¯å¾„
        
        # è®¾ç½®å…ƒæ•°æ®ä¿¡æ¯
        operation.set_code(metadata.code)
        operation.set_title(metadata.title)
        if metadata.studio:
            operation.set_studio(metadata.studio)
        if metadata.actors:
            operation.set_actors(metadata.actors)
        
        # 4. æ·»åŠ å­é¡¹
        self._add_child_items(operation, target_path, metadata)
        
        return operation
    
    def _add_child_items(
        self,
        parent: OperationItem,
        target_path: str,
        metadata: MovieMetadata
    ):
        """æ·»åŠ å­é¡¹ï¼ˆå…ƒæ•°æ®ã€å›¾ç‰‡ç­‰ï¼‰
        
        Args:
            parent: çˆ¶æ“ä½œé¡¹
            target_path: ç›®æ ‡è§†é¢‘æ–‡ä»¶è·¯å¾„
            metadata: å…ƒæ•°æ®å¯¹è±¡
        """
        target_path_obj = Path(target_path)
        target_dir = target_path_obj.parent
        target_name_no_ext = target_path_obj.stem
        
        # 4.1 æ·»åŠ å…ƒæ•°æ®æ–‡ä»¶å­é¡¹
        if self.config.get('save_metadata', True):
            nfo_item = OperationItem(
                opt_type=OperationType.SAVE_METADATA,
                item_type=ItemType.META_DATA,
                desc="ä¿å­˜ NFO å…ƒæ•°æ®"
            )
            nfo_item.set_extra(MetadataExtraKeys.METADATA_OBJ, metadata)
            nfo_item.set_target_path(str(target_dir / f"{target_name_no_ext}.nfo"))
            parent.append_child(nfo_item)
        
        # 4.2 æ·»åŠ å°é¢å›¾ç‰‡å­é¡¹
        if self.config.get('save_cover', True) and metadata.cover:
            cover_item = OperationItem(
                opt_type=OperationType.DOWNLOAD,
                item_type=ItemType.IMAGE,
                desc="ä¸‹è½½å°é¢å›¾ç‰‡"
            )
            cover_item.set_url(metadata.cover)
            cover_item.set_subtype(ItemSubType.POSTER)
            cover_item.set_target_path(str(target_dir / f"{target_name_no_ext}-poster.jpg"))
            parent.append_child(cover_item)
        
        # 4.3 æ·»åŠ èƒŒæ™¯å›¾ç‰‡å­é¡¹
        if self.config.get('save_backdrop', True) and hasattr(metadata, 'backdrop') and metadata.backdrop:
            backdrop_item = OperationItem(
                opt_type=OperationType.DOWNLOAD,
                item_type=ItemType.IMAGE,
                desc="ä¸‹è½½èƒŒæ™¯å›¾ç‰‡"
            )
            backdrop_item.set_url(metadata.backdrop)
            backdrop_item.set_subtype(ItemSubType.BACKDROP)
            backdrop_item.set_target_path(str(target_dir / f"{target_name_no_ext}-fanart.jpg"))
            parent.append_child(backdrop_item)
    
    def _generate_target_path(
        self,
        source_path: str,
        metadata: MovieMetadata
    ) -> str:
        """æ ¹æ®å…ƒæ•°æ®ç”Ÿæˆç›®æ ‡è·¯å¾„
        
        æ”¯æŒçš„æ¨¡æ¿å˜é‡:
            {code}: è§†é¢‘ä»£ç 
            {title}: æ ‡é¢˜
            {actor}: æ¼”å‘˜ï¼ˆç¬¬ä¸€ä¸ªï¼‰
            {actors}: æ¼”å‘˜ï¼ˆå…¨éƒ¨ï¼Œé€—å·åˆ†éš”ï¼‰
            {studio}: åˆ¶ä½œå•†
            {year}: å¹´ä»½
            {date}: å®Œæ•´æ—¥æœŸ
            {site}: ç½‘ç«™å
        
        ç¤ºä¾‹:
            æ¨¡æ¿: "{base_dir}/{studio}/{code} {title}"
            ç»“æœ: "/videos/S1/SSIS-123 ç¾å°‘å¥³.mp4"
        """
        base_dir = self.config.get('base_dir', '.')
        structure = self.config.get('structure', '{code}')
        filename_template = self.config.get('filename_template', '{code}')
        
        source_ext = Path(source_path).suffix
        
        # å‡†å¤‡æ¨¡æ¿å˜é‡
        template_vars = {
            'code': metadata.code or 'unknown',
            'title': metadata.title or '',
            'studio': metadata.studio or 'unknown',
            'year': getattr(metadata, 'year', ''),
            'site': metadata.site or '',
        }
        
        # å¤„ç†æ¼”å‘˜
        if metadata.actors:
            template_vars['actor'] = metadata.actors[0]
            template_vars['actors'] = ', '.join(metadata.actors)
        else:
            template_vars['actor'] = ''
            template_vars['actors'] = ''
        
        # ç”Ÿæˆç›®å½•ç»“æ„
        target_dir = Path(base_dir) / structure.format(**template_vars)
        
        # ç”Ÿæˆæ–‡ä»¶å
        filename = filename_template.format(**template_vars) + source_ext
        
        return str(target_dir / filename)
    
    def _resolve_conflict(self, path: str) -> str:
        """è§£å†³æ–‡ä»¶åå†²çª
        
        Args:
            path: åŸè·¯å¾„
        
        Returns:
            è§£å†³å†²çªåçš„è·¯å¾„
        
        ç­–ç•¥:
            - skip: è·³è¿‡ï¼Œè¿”å›åŸè·¯å¾„ï¼ˆè°ƒç”¨è€…éœ€å¤„ç†ï¼‰
            - rename: é‡å‘½åï¼ˆæ·»åŠ æ•°å­—åç¼€ï¼‰
            - overwrite: è¦†ç›–ï¼ˆè¿”å›åŸè·¯å¾„ï¼‰
        """
        strategy = self.config.get('conflict_resolution', 'rename')
        
        if strategy == 'overwrite':
            return path
        elif strategy == 'skip':
            return path  # è°ƒç”¨è€…åº”æ£€æŸ¥æ–‡ä»¶å­˜åœ¨å¹¶è·³è¿‡
        else:  # rename
            path_obj = Path(path)
            base_name = path_obj.stem
            extension = path_obj.suffix
            parent = path_obj.parent
            
            counter = 1
            while True:
                new_path = parent / f"{base_name} ({counter}){extension}"
                if not new_path.exists():
                    return str(new_path)
                counter += 1
```

**æ¶æ„ä¼˜åŠ¿**:
- âœ… **å¤ç”¨ç°æœ‰ä»£ç **: ä½¿ç”¨å·²æœ‰çš„ `OperationItem` å’Œå¸¸é‡å®šä¹‰
- âœ… **ç»Ÿä¸€æ¶æ„**: æ–‡ä»¶ç§»åŠ¨ä¸ä¸‹è½½ä½¿ç”¨ç›¸åŒçš„æ“ä½œé¡¹æ¨¡å‹
- âœ… **å­é¡¹æœºåˆ¶**: å…ƒæ•°æ®å’Œå›¾ç‰‡ä½œä¸ºå­é¡¹ï¼Œç»“æ„æ¸…æ™°
- âœ… **æ˜“äºæ‰§è¡Œ**: Executor å¯ä»¥ç»Ÿä¸€å¤„ç†æ‰€æœ‰æ“ä½œç±»å‹

**é¢„è®¡å·¥ä½œé‡**: 2 å¤©

---

#### 2.2.5 æ‰§è¡Œå™¨æ‰©å±•

**ä»»åŠ¡ 4.6: æ‰©å±•æ‰§è¡Œå™¨æ”¯æŒæ–‡ä»¶ç§»åŠ¨æ“ä½œ**
- [ ] **ä½ç½®**: `pavone/manager/execution.py` å’Œ `pavone/core/base.py`
- [ ] **å®ç°æ–¹å¼**: 
  - âœ… **å¤ç”¨ç°æœ‰æ¶æ„**: ä½¿ç”¨ `ExecutionManager._execute_download()` çš„é€’å½’æ‰§è¡Œæœºåˆ¶
  - ğŸ†• **æ–°å¢ FileOperator**: åˆ›å»ºæ–‡ä»¶ç§»åŠ¨æ“ä½œæ‰§è¡Œå™¨
  - âœ… **ç»Ÿä¸€å¤„ç†**: é€šè¿‡ `_get_operator_for_item()` è‡ªåŠ¨é€‰æ‹©æ‰§è¡Œå™¨

**ç°æœ‰æ‰§è¡Œå™¨æ¶æ„**:
```python
# pavone/manager/execution.py (ç°æœ‰)
class ExecutionManager:
    def _get_operator_for_item(self, item: OperationItem) -> Operator:
        """æ ¹æ®æ“ä½œé¡¹è·å–åˆé€‚çš„æ‰§è¡Œå™¨"""
        if item.opt_type == OperationType.DOWNLOAD:
            if item.item_type == ItemType.STREAM:
                return self.m3u8_downloader
            elif item.item_type in (ItemType.VIDEO, ItemType.IMAGE):
                return self.http_downloader
        elif item.opt_type == OperationType.SAVE_METADATA:
            return self.metadata_saver
        else:
            return DummyOperator(self.config)
    
    def _execute_operation(self, selected_item: OperationItem, silent: bool = False, parent: Optional[OperationItem] = None) -> bool:
        """æ‰§è¡Œæ“ä½œé¡¹ï¼ˆä¸‹è½½ã€æ–‡ä»¶ç§»åŠ¨ç­‰ï¼ŒåŒ…æ‹¬é€’å½’å¤„ç†å­é¡¹ï¼‰"""
        # 1. è®¾ç½®ç›®æ ‡è·¯å¾„
        self._set_target_path_for_item(selected_item, parent)
        
        # 2. è®¾ç½®è¿›åº¦å›è°ƒ
        self._set_progress_callback(silent, selected_item)
        
        # 3. è·å–æ‰§è¡Œå™¨å¹¶æ‰§è¡Œ
        operator = self._get_operator_for_item(selected_item)
        success = operator.execute(selected_item)
        
        # 4. é€’å½’å¤„ç†å­é¡¹
        if selected_item.has_children():
            for child in selected_item.get_children():
                if not self._execute_operation(child, silent, selected_item):
                    success = False
        
        return success
```

**æ‰©å±•æ–¹æ¡ˆ**:

**æ­¥éª¤ 1: åˆ›å»º FileOperator æ‰§è¡Œå™¨**
```python
# pavone/core/base.py (æ–°å¢æˆ–æ‰©å±•)
import shutil
from pathlib import Path
from typing import Optional
from ..models import OperationItem
from ..config.settings import Config
from ..config.logging_config import get_logger

class FileOperator(Operator):
    """æ–‡ä»¶æ“ä½œæ‰§è¡Œå™¨
    
    è´Ÿè´£æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨ã€å¤åˆ¶ç­‰æ“ä½œã€‚
    æ”¯æŒé€šè¿‡ OperationItem çš„çˆ¶å­ç»“æ„è‡ªåŠ¨å¤„ç†å…³è”çš„å…ƒæ•°æ®å’Œå›¾ç‰‡ã€‚
    """
    
    def __init__(self, config: Config):
        super().__init__(config)
        self.logger = get_logger(__name__)
    
    def execute(self, item: OperationItem) -> bool:
        """æ‰§è¡Œæ–‡ä»¶æ“ä½œ
        
        Args:
            item: æ“ä½œé¡¹ï¼ˆåŒ…å«æºè·¯å¾„ã€ç›®æ ‡è·¯å¾„ç­‰ä¿¡æ¯ï¼‰
        
        Returns:
            æ˜¯å¦æˆåŠŸ
        
        è¯´æ˜:
            - æºè·¯å¾„å­˜å‚¨åœ¨ item.urlï¼ˆå¤ç”¨ç°æœ‰å­—æ®µï¼‰
            - ç›®æ ‡è·¯å¾„å­˜å‚¨åœ¨ item.target_path
            - æ“ä½œç±»å‹ä¸º OperationType.MOVE
        """
        try:
            # 1. è·å–æºè·¯å¾„å’Œç›®æ ‡è·¯å¾„
            source_path = item.get_url()  # å¤ç”¨ url å­—æ®µå­˜å‚¨æºè·¯å¾„
            target_path = item.get_target_path()
            
            if not source_path or not target_path:
                self.logger.error("æºè·¯å¾„æˆ–ç›®æ ‡è·¯å¾„ä¸ºç©º")
                return False
            
            # 2. éªŒè¯æºæ–‡ä»¶å­˜åœ¨
            if not Path(source_path).exists():
                self.logger.error(f"æºæ–‡ä»¶ä¸å­˜åœ¨: {source_path}")
                return False
            
            # 3. åˆ›å»ºç›®æ ‡ç›®å½•
            target_dir = Path(target_path).parent
            target_dir.mkdir(parents=True, exist_ok=True)
            
            # 4. æ‰§è¡Œç§»åŠ¨æ“ä½œ
            self.logger.info(f"ç§»åŠ¨æ–‡ä»¶: {source_path} -> {target_path}")
            shutil.move(source_path, target_path)
            
            # 5. æ›´æ–° item çš„ç›®æ ‡è·¯å¾„ï¼ˆä¾›å­é¡¹ä½¿ç”¨ï¼‰
            item.set_target_path(target_path)
            
            self.logger.info(f"æ–‡ä»¶ç§»åŠ¨æˆåŠŸ: {Path(target_path).name}")
            return True
            
        except FileExistsError:
            self.logger.error(f"ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨: {target_path}")
            return False
        except PermissionError as e:
            self.logger.error(f"æƒé™é”™è¯¯: {e}")
            return False
        except Exception as e:
            self.logger.error(f"æ–‡ä»¶ç§»åŠ¨å¤±è´¥: {e}")
            return False
```

**æ­¥éª¤ 2: æ‰©å±• ExecutionManager** âœ…
```python
# pavone/manager/execution.py (å·²æ‰©å±•å®Œæˆ)
from ..core import FileMover  # å·²æ·»åŠ å¯¼å…¥

class ExecutionManager:
    def __init__(self, config: Config, plugin_manager: Optional[PluginManager] = None):
        # ... ç°æœ‰åˆå§‹åŒ–ä»£ç  ...
        
        # âœ… å·²å®Œæˆ: åˆå§‹åŒ–æ–‡ä»¶ç§»åŠ¨æ‰§è¡Œå™¨
        self.file_mover = FileMover(config)
    
    def _get_operator_for_item(self, item: OperationItem) -> Operator:
        """æ ¹æ®æ“ä½œé¡¹è·å–åˆé€‚çš„æ‰§è¡Œå™¨ï¼ˆå·²æ‰©å±•ï¼‰"""
        if item.opt_type == OperationType.DOWNLOAD:
            if item.item_type == ItemType.STREAM:
                return self.m3u8_downloader
            elif item.item_type in (ItemType.VIDEO, ItemType.IMAGE):
                return self.http_downloader
        elif item.opt_type == OperationType.SAVE_METADATA:
            return self.metadata_saver
        elif item.opt_type == OperationType.MOVE:  # âœ… å·²å®Œæˆ: æ”¯æŒæ–‡ä»¶ç§»åŠ¨
            return self.file_mover
        else:
            self.logger.warning(f"æœªæ‰¾åˆ°åˆé€‚çš„æ‰§è¡Œå™¨: {item.get_description()}")
            return DummyOperator(self.config)
    
    def organize_file(self, operation_item: OperationItem, silent: bool = False) -> bool:
        """æ•´ç†æ–‡ä»¶ï¼ˆå¾…å®ç°æ–¹æ³•ï¼‰
        
        Args:
            operation_item: æ–‡ä»¶ç§»åŠ¨æ“ä½œé¡¹ï¼ˆåŒ…å«å­é¡¹ï¼šå…ƒæ•°æ®ã€å›¾ç‰‡ç­‰ï¼‰
            silent: æ˜¯å¦é™é»˜æ¨¡å¼
        
        Returns:
            æ˜¯å¦æˆåŠŸ
        
        è¯´æ˜:
            å¤ç”¨ _execute_operation() çš„é€’å½’æ‰§è¡Œæœºåˆ¶ï¼Œ
            è‡ªåŠ¨å¤„ç†ä¸»æ“ä½œï¼ˆç§»åŠ¨æ–‡ä»¶ï¼‰å’Œå­é¡¹ï¼ˆä¿å­˜å…ƒæ•°æ®ã€ä¸‹è½½å›¾ç‰‡ï¼‰ã€‚
        """
        try:
            # ç›´æ¥è°ƒç”¨ç°æœ‰çš„æ‰§è¡Œæ–¹æ³•
            # _execute_operation ä¼šè‡ªåŠ¨ï¼š
            # 1. è®¾ç½®ç›®æ ‡è·¯å¾„
            # 2. é€‰æ‹©åˆé€‚çš„æ‰§è¡Œå™¨ï¼ˆFileMoverã€MetadataSaverã€HTTPDownloaderï¼‰
            # 3. é€’å½’å¤„ç†æ‰€æœ‰å­é¡¹
            return self._execute_operation(operation_item, silent=silent, parent=None)
            
        except Exception as e:
            self.logger.error(f"æ–‡ä»¶æ•´ç†å¤±è´¥: {e}")
            return False
```

**å®ç°çŠ¶æ€**: âœ… éƒ¨åˆ†å®Œæˆï¼ˆ2025-12-30ï¼‰
- âœ… FileMover ç±»å®ç°å®Œæˆï¼ˆ203 è¡Œï¼Œ19 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
  - å®Œæ•´çš„éªŒè¯æœºåˆ¶ï¼ˆæºæ–‡ä»¶æ£€æŸ¥ã€ç›®æ ‡ç›®å½•åˆ›å»ºã€æƒé™éªŒè¯ï¼‰
  - å®‰å…¨è¦†ç›–æœºåˆ¶ï¼ˆå¤‡ä»½ + å›æ»šï¼‰
  - é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æŠ›å‡º
- âœ… ExecutionManager é›†æˆ FileMover
  - `_get_operator_for_item` æ·»åŠ  MOVE æ“ä½œæ”¯æŒ
  - FileMover å®ä¾‹åŒ–å’Œåˆå§‹åŒ–å®Œæˆ
- âŒ organize_file æ–¹æ³•å¾…å®ç°

**ä½¿ç”¨ç¤ºä¾‹**:
```python
# organize å‘½ä»¤ä¸­çš„ä½¿ç”¨
from pavone.manager import ExecutionManager
from pavone.utils import FileOperationBuilder

# 1. åˆ›å»ºæ‰§è¡Œç®¡ç†å™¨
exe_manager = ExecutionManager(config)

# 2. æ„å»ºæ–‡ä»¶ç§»åŠ¨æ“ä½œé¡¹ï¼ˆåŒ…å«å­é¡¹ï¼‰
operation_item = file_operation_builder.build_operation(
    source_path="/downloads/video.mp4",
    metadata=metadata
)

# 3. æ‰§è¡Œæ•´ç†ï¼ˆè‡ªåŠ¨å¤„ç†ä¸»æ“ä½œå’Œæ‰€æœ‰å­é¡¹ï¼‰
success = exe_manager.organize_file(operation_item, silent=False)

# æ‰§è¡Œè¿‡ç¨‹:
# - FileMover ç§»åŠ¨è§†é¢‘æ–‡ä»¶
# - MetadataSaver ä¿å­˜ NFO æ–‡ä»¶ï¼ˆå­é¡¹ï¼‰
# - HTTPDownloader ä¸‹è½½å°é¢å›¾ç‰‡ï¼ˆå­é¡¹ï¼‰
# - HTTPDownloader ä¸‹è½½èƒŒæ™¯å›¾ç‰‡ï¼ˆå­é¡¹ï¼‰
```

**æ¶æ„ä¼˜åŠ¿**:
- âœ… **å¤ç”¨ç°æœ‰é€»è¾‘**: ä½¿ç”¨ `_execute_operation()` çš„é€’å½’æ‰§è¡Œæœºåˆ¶
- âœ… **ç»Ÿä¸€çš„æ‰§è¡Œæµç¨‹**: ä¸‹è½½ã€ç§»åŠ¨ã€å…ƒæ•°æ®ä¿å­˜ä½¿ç”¨åŒä¸€å¥—æ¶æ„
- âœ… **è‡ªåŠ¨å¤„ç†å­é¡¹**: æ— éœ€é¢å¤–ä»£ç ï¼Œè‡ªåŠ¨é€’å½’å¤„ç†å…ƒæ•°æ®å’Œå›¾ç‰‡
- âœ… **æ˜“äºæ‰©å±•**: æœªæ¥å¯è½»æ¾æ·»åŠ  COPYã€RENAME ç­‰æ“ä½œ
- âœ… **ä¸€è‡´çš„é”™è¯¯å¤„ç†**: å¤ç”¨ç°æœ‰çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- âœ… **è¿›åº¦å›è°ƒæ”¯æŒ**: å¤ç”¨ç°æœ‰çš„è¿›åº¦æ˜¾ç¤ºæœºåˆ¶
- âœ… **å®‰å…¨æ€§ä¿éšœ**: FileMover æä¾›å®Œæ•´çš„éªŒè¯å’Œå›æ»šæœºåˆ¶

**é¢„è®¡å·¥ä½œé‡**: 0.5 å¤©ï¼ˆFileMover å·²å®Œæˆï¼Œä»…éœ€å®ç° organize_file æ–¹æ³•ï¼‰

---

#### 2.2.6 CLI å‘½ä»¤å®ç°

**ä»»åŠ¡ 4.7: åˆ›å»º organize å‘½ä»¤** â³
- **çŠ¶æ€**: â³ è¿›è¡Œä¸­
- âœ… åŸºç¡€æ¡†æ¶å·²åˆ›å»ºï¼ˆ`pavone/cli/commands/organize.py`ï¼‰
- âŒ æ ¸å¿ƒé€»è¾‘å¾…å®ç°
- âŒ é›†æˆæœç´¢ç®¡ç†å™¨
- âŒ é›†æˆå…ƒæ•°æ®ç®¡ç†å™¨
- âŒ é›†æˆæ–‡ä»¶æ“ä½œæ„å»ºå™¨

**å‘½ä»¤è®¾è®¡**:
```bash
# åŸºæœ¬ç”¨æ³•
pavone organize /path/to/videos --output-dir /path/to/organized

# é¢„è§ˆæ¨¡å¼ï¼ˆä¸å®é™…ç§»åŠ¨æ–‡ä»¶ï¼‰
pavone organize /path/to/videos --output-dir /path/to/organized --dry-run

# æŒ‡å®šæ–‡ä»¶åæ¨¡æ¿
pavone organize /path/to/videos \
    --output-dir /path/to/organized \
    --structure "{studio}/{code} {title}" \
    --filename "{code}"

# æŒ‡å®šæ’ä»¶ä¼˜å…ˆçº§
pavone organize /path/to/videos \
    --output-dir /path/to/organized \
    --plugins missav,jtable,memojav

# æ’é™¤æŸäº›æ–‡ä»¶
pavone organize /path/to/videos \
    --output-dir /path/to/organized \
    --exclude "*.txt" \
    --exclude "*sample*"

# é€’å½’å¤„ç†å­ç›®å½•
pavone organize /path/to/videos \
    --output-dir /path/to/organized \
    --recursive

# å†²çªå¤„ç†ç­–ç•¥
pavone organize /path/to/videos \
    --output-dir /path/to/organized \
    --on-conflict rename  # skip, rename, overwrite
```

**å®ç°**:
```python
import click
from pathlib import Path
from typing import List, Optional

from ...manager.search_manager import SearchManager
from ...manager.metadata_manager import MetadataManager
from ...manager.execution import Executor
from ...utils.filename_utils import FilenameParser
from ...utils.file_operation_builder import FileOperationBuilder
from ..commands.utils import (
    common_output_options,
    common_interaction_options,
)

@click.command()
@click.argument("input_dir", type=click.Path(exists=True))
@click.option(
    "--output-dir",
    "-o",
    type=click.Path(),
    required=True,
    help="æ•´ç†åçš„è¾“å‡ºç›®å½•"
)
@click.option(
    "--structure",
    default="{code}",
    help="ç›®å½•ç»“æ„æ¨¡æ¿ï¼Œå¦‚: {studio}/{code} {title}"
)
@click.option(
    "--filename",
    default="{code}",
    help="æ–‡ä»¶åæ¨¡æ¿ï¼Œå¦‚: {code} {title}"
)
@click.option(
    "--plugins",
    help="æŒ‡å®šæœç´¢æ’ä»¶ï¼ˆé€—å·åˆ†éš”ï¼‰ï¼Œå¦‚: missav,jtable"
)
@click.option(
    "--exclude",
    multiple=True,
    help="æ’é™¤æ–‡ä»¶æ¨¡å¼ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰"
)
@click.option(
    "--recursive/--no-recursive",
    default=False,
    help="æ˜¯å¦é€’å½’å¤„ç†å­ç›®å½•"
)
@click.option(
    "--dry-run",
    is_flag=True,
    help="é¢„è§ˆæ¨¡å¼ï¼Œä¸å®é™…ç§»åŠ¨æ–‡ä»¶"
)
@click.option(
    "--on-conflict",
    type=click.Choice(["skip", "rename", "overwrite"]),
    default="rename",
    help="æ–‡ä»¶åå†²çªå¤„ç†ç­–ç•¥"
)
@common_output_options
@common_interaction_options
def organize(
    input_dir: str,
    output_dir: str,
    structure: str,
    filename: str,
    plugins: Optional[str],
    exclude: tuple,
    recursive: bool,
    dry_run: bool,
    on_conflict: str,
    **kwargs
):
    """æ•´ç†è§†é¢‘æ–‡ä»¶
    
    æ‰«ææŒ‡å®šç›®å½•çš„è§†é¢‘æ–‡ä»¶ï¼Œé€šè¿‡æœç´¢å’Œå…ƒæ•°æ®æå–ï¼Œ
    è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–çš„æ–‡ä»¶åå’Œç›®å½•ç»“æ„ã€‚
    
    ç¤ºä¾‹:
        pavone organize /downloads --output-dir /videos
        pavone organize /downloads -o /videos --dry-run
        pavone organize /downloads -o /videos --structure "{studio}/{code}"
    """
    # 1. åˆå§‹åŒ–ç®¡ç†å™¨
    search_manager = SearchManager(plugin_manager)
    metadata_manager = MetadataManager(plugin_manager)
    file_operation_builder = FileOperationBuilder({
        'base_dir': output_dir,
        'structure': structure,
        'filename': filename,
        'conflict_resolution': on_conflict
    })
    executor = Executor()
    
    # 2. æ‰«æè§†é¢‘æ–‡ä»¶
    video_files = _scan_video_files(
        input_dir, 
        recursive=recursive, 
        exclude=exclude
    )
    
    if not video_files:
        click.echo("æœªæ‰¾åˆ°è§†é¢‘æ–‡ä»¶")
        return
    
    click.echo(f"æ‰¾åˆ° {len(video_files)} ä¸ªè§†é¢‘æ–‡ä»¶")
    
    # 3. å¤„ç†æ¯ä¸ªæ–‡ä»¶
    success_count = 0
    failed_count = 0
    
    for video_file in video_files:
        try:
            # 3.1 ä»æ–‡ä»¶åæå–ä»£ç 
            code = FilenameParser.extract_code(video_file.name)
            if not code:
                click.echo(f"âš ï¸  æ— æ³•æå–ä»£ç : {video_file.name}")
                failed_count += 1
                continue
            
            click.echo(f"\nå¤„ç†: {video_file.name} (ä»£ç : {code})")
            
            # 3.2 æœç´¢è·å–é“¾æ¥
            plugin_list = plugins.split(",") if plugins else None
            search_result = search_manager.get_best_match(
                code, 
                filters={'plugins': plugin_list}
            )
            
            if not search_result:
                click.echo(f"âš ï¸  æœªæ‰¾åˆ°æœç´¢ç»“æœ: {code}")
                failed_count += 1
                continue
            
            # 3.3 è·å–å…ƒæ•°æ®
            metadata = metadata_manager.get_metadata_from_search_result(
                search_result
            )
            
            if not metadata:
                click.echo(f"âš ï¸  æ— æ³•è·å–å…ƒæ•°æ®: {code}")
                failed_count += 1
                continue
            
            # 3.4 ç”Ÿæˆæ“ä½œé¡¹
            operation_item = file_operation_builder.build_move_operation(
                source_path=str(video_file),
                metadata=metadata,
                dry_run=dry_run
            )
            
            # 3.5 æ˜¾ç¤ºæ“ä½œä¿¡æ¯
            click.echo(f"  æºæ–‡ä»¶: {operation_item.source_path}")
            click.echo(f"  ç›®æ ‡æ–‡ä»¶: {operation_item.target_path}")
            
            if dry_run:
                click.echo("  [é¢„è§ˆæ¨¡å¼] è·³è¿‡å®é™…æ“ä½œ")
                success_count += 1
                continue
            
            # 3.6 æ‰§è¡Œæ“ä½œ
            result = await executor.execute_file_operation(operation_item)
            
            if result:
                click.echo("âœ… å¤„ç†æˆåŠŸ")
                success_count += 1
            else:
                click.echo("âŒ å¤„ç†å¤±è´¥")
                failed_count += 1
                
        except Exception as e:
            click.echo(f"âŒ å¤„ç†å¼‚å¸¸: {e}")
            failed_count += 1
    
    # 4. æ˜¾ç¤ºæ€»ç»“
    click.echo(f"\n{'='*50}")
    click.echo(f"å¤„ç†å®Œæˆ:")
    click.echo(f"  æˆåŠŸ: {success_count}")
    click.echo(f"  å¤±è´¥: {failed_count}")
    click.echo(f"  æ€»è®¡: {len(video_files)}")
    if dry_run:
        click.echo("\nğŸ’¡ è¿™æ˜¯é¢„è§ˆæ¨¡å¼ï¼Œæ–‡ä»¶æœªå®é™…ç§»åŠ¨")


def _scan_video_files(
    directory: str, 
    recursive: bool = False,
    exclude: tuple = ()
) -> List[Path]:
    """æ‰«æè§†é¢‘æ–‡ä»¶
    
    Args:
        directory: ç›®å½•è·¯å¾„
        recursive: æ˜¯å¦é€’å½’
        exclude: æ’é™¤æ¨¡å¼åˆ—è¡¨
    
    Returns:
        è§†é¢‘æ–‡ä»¶è·¯å¾„åˆ—è¡¨
    """
    video_extensions = ['.mp4', '.mkv', '.avi', '.mov', '.wmv', '.flv', '.ts']
    path = Path(directory)
    
    if recursive:
        files = path.rglob('*')
    else:
        files = path.glob('*')
    
    # è¿‡æ»¤è§†é¢‘æ–‡ä»¶
    video_files = [
        f for f in files 
        if f.is_file() and f.suffix.lower() in video_extensions
    ]
    
    # åº”ç”¨æ’é™¤è§„åˆ™
    if exclude:
        from fnmatch import fnmatch
        video_files = [
            f for f in video_files
            if not any(fnmatch(f.name, pattern) for pattern in exclude)
        ]
    
    return sorted(video_files)
```

**é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©

---

### 2.3 é…ç½®æ”¯æŒ

**ä»»åŠ¡ 4.8: æ·»åŠ é…ç½®é¡¹**
- [ ] **ä½ç½®**: `pavone/config/settings.py`
- [ ] **æ–°å¢é…ç½®**:

```python
# æ–‡ä»¶æ•´ç†é…ç½®
ORGANIZE_DEFAULT_STRUCTURE = "{code}"
ORGANIZE_DEFAULT_FILENAME = "{code} {title}"
ORGANIZE_CONFLICT_RESOLUTION = "rename"  # skip, rename, overwrite
ORGANIZE_SAVE_METADATA = True  # æ˜¯å¦ä¿å­˜å…ƒæ•°æ®æ–‡ä»¶
ORGANIZE_SAVE_COVER = True  # æ˜¯å¦ä¿å­˜å°é¢å›¾ç‰‡
ORGANIZE_SUPPORTED_EXTENSIONS = ['.mp4', '.mkv', '.avi', '.mov', '.wmv', '.flv', '.ts']
```

**ä»»åŠ¡ 4.9: æ–‡æ¡£æ›´æ–°**
- [ ] **ä½¿ç”¨æŒ‡å—**: `docs/usage.md`
- [ ] **é…ç½®è¯´æ˜**: `docs/config.md`
- [ ] **ç¤ºä¾‹**: `docs/examples/organize.md`

**é¢„è®¡å·¥ä½œé‡**: 1 å¤©

---

## 3. æµ‹è¯•ç­–ç•¥

### 3.1 å•å…ƒæµ‹è¯•

#### æ’ä»¶æµ‹è¯• âœ…
- âœ… `JTablePlugin` å®Œæ•´æµ‹è¯•
  - âœ… å…ƒæ•°æ®æå–ï¼ˆ25ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
  - âœ… ä¸‹è½½é“¾æ¥æå–
  - âŒ æœç´¢åŠŸèƒ½ï¼ˆä¸é€‚ç”¨ï¼‰
- âœ… `MemojavPlugin` å®Œæ•´æµ‹è¯•
  - âœ… å…ƒæ•°æ®æå–ï¼ˆ19ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
  - âœ… ä¸‹è½½é“¾æ¥æå–
  - âŒ æœç´¢åŠŸèƒ½ï¼ˆä¸é€‚ç”¨ï¼‰

#### å·¥å…·ç±»æµ‹è¯• âŒ
- [ ] `FilenameParser` æµ‹è¯•ï¼ˆå¾…å®ç°å·¥å…·ç±»ï¼‰
  - å„ç§æ–‡ä»¶åæ ¼å¼
  - è¾¹ç•Œæƒ…å†µ
- [ ] `FileOperationBuilder` æµ‹è¯•ï¼ˆå¾…å®ç°å·¥å…·ç±»ï¼‰
  - è·¯å¾„ç”Ÿæˆ
  - å†²çªå¤„ç†
- [ ] `SearchManager` æµ‹è¯•ï¼ˆå¾…å®ç°å·¥å…·ç±»ï¼‰
  - ä¼˜å…ˆçº§æ’åº
  - ç»“æœåˆå¹¶

#### æ‰§è¡Œå™¨æµ‹è¯• âŒ
- [ ] æ–‡ä»¶æ“ä½œæµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰
  - MOVE æ“ä½œ
  - COPY æ“ä½œ
  - RENAME æ“ä½œ
  - å›æ»šæœºåˆ¶

**å½“å‰è¦†ç›–ç‡**: æ’ä»¶éƒ¨åˆ† > 85%ï¼Œå·¥å…·ç±»å¾…å®ç°

### 3.2 é›†æˆæµ‹è¯• â³

- âœ… ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆæ’ä»¶éƒ¨åˆ†ï¼‰
  - å…ƒæ•°æ®æå– â†’ ä¸‹è½½
- âŒ æ–‡ä»¶æ•´ç†å®Œæ•´æµç¨‹ï¼ˆå¾…å®ç°ï¼‰
- âŒ è·¨æ’ä»¶æµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰
  - å¤šæ’ä»¶æœç´¢
  - æœç´¢ç»“æœä¼˜å…ˆçº§

### 3.3 æ€§èƒ½æµ‹è¯• âŒ

- [ ] æ‰¹é‡æ–‡ä»¶å¤„ç†æ€§èƒ½ï¼ˆå¾…å®ç°ï¼‰
- [ ] æœç´¢å“åº”æ—¶é—´ï¼ˆå¾…å®ç°ï¼‰
- [ ] å…ƒæ•°æ®è·å–å¹¶å‘æ€§èƒ½ï¼ˆå¾…å®ç°ï¼‰

---

## 4. æ–‡æ¡£æ›´æ–°

### 4.1 å¼€å‘è€…æ–‡æ¡£
- [ ] æ’ä»¶å¼€å‘æŒ‡å—æ›´æ–°
  - å¤åˆå‹æ’ä»¶æœ€ä½³å®è·µ
  - æœç´¢æ¥å£è§„èŒƒ
- [ ] æ¶æ„è®¾è®¡æ–‡æ¡£
  - æ–‡ä»¶æ•´ç†æµç¨‹å›¾
  - ç»„ä»¶äº¤äº’å›¾

### 4.2 ç”¨æˆ·æ–‡æ¡£
- [ ] ä½¿ç”¨æŒ‡å—
  - organize å‘½ä»¤è¯¦ç»†è¯´æ˜
  - æ¨¡æ¿å˜é‡å‚è€ƒ
  - é…ç½®ç¤ºä¾‹
- [ ] FAQ
  - å¸¸è§é—®é¢˜è§£ç­”
  - æ•…éšœæ’æŸ¥

### 4.3 å˜æ›´æ—¥å¿—
- [ ] è¯¦ç»†è®°å½•æ‰€æœ‰æ–°åŠŸèƒ½
- [ ] API å˜æ›´è¯´æ˜
- [ ] è¿ç§»æŒ‡å—ï¼ˆå¦‚æœ‰ç ´åæ€§å˜æ›´ï¼‰

---

## 5. æ—¶é—´çº¿

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | å®é™…çŠ¶æ€ | å®Œæˆæ—¥æœŸ |
|------|------|---------|---------|---------|
| Week 1 | JTable æ’ä»¶å‡çº§ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰ | 3-4 å¤© | âœ… å·²å®Œæˆ | 2025-12-29 |
| Week 1 | Memojav æ’ä»¶å‡çº§ï¼ˆå…ƒæ•°æ® + ä¸‹è½½ï¼‰ | 3-4 å¤© | âœ… å·²å®Œæˆ | 2025-12-29 |
| Week 2 | æ–‡ä»¶åè§£æå·¥å…·ï¼ˆå¤ç”¨ CodeExtractUtilsï¼‰ | 0.5-1 å¤© | âŒ å¾…å¼€å§‹ | - |
| Week 2 | æœç´¢ç®¡ç†å™¨ï¼ˆè¿ç§» PluginManager.searchï¼‰ | 0.5-1 å¤© | âŒ å¾…å¼€å§‹ | - |
| Week 2 | å…ƒæ•°æ®ç®¡ç†å™¨ï¼ˆè¿ç§» CLI é€»è¾‘ï¼‰ | 1-2 å¤© | âŒ å¾…å¼€å§‹ | - |
| Week 2-3 | æ–‡ä»¶æ“ä½œæ„å»ºå™¨ + æ‰§è¡Œå™¨æ‰©å±• | 3-4 å¤© | âŒ å¾…å¼€å§‹ | - |
| Week 3 | organize å‘½ä»¤å®ç° | 2-3 å¤© | â³ æ¡†æ¶å·²å»ºç«‹ | - |
| Week 3-4 | æµ‹è¯•ï¼ˆå•å…ƒ + é›†æˆ + æ€§èƒ½ï¼‰ | 3-4 å¤© | âŒ å¾…å¼€å§‹ | - |
| Week 4 | æ–‡æ¡£æ›´æ–° + å‘å¸ƒå‡†å¤‡ | 2-3 å¤© | âŒ å¾…å¼€å§‹ | - |

**æ€»é¢„è®¡æ—¶é—´**: 2-3 å‘¨ï¼ˆç”±äºå¤ç”¨ç°æœ‰ä»£ç ï¼Œç¼©çŸ­ 1-1.5 å‘¨ï¼‰

**å½“å‰è¿›åº¦**: 
- âœ… æ’ä»¶æ¶æ„ç»Ÿä¸€ï¼ˆ100%ï¼‰
- â³ æ–‡ä»¶æ•´ç†åŠŸèƒ½ï¼ˆçº¦ 10%ï¼Œä»…æ¡†æ¶ï¼‰

**ä¼˜åŒ–è¯´æ˜**:
- FilenameParser å¤ç”¨ CodeExtractUtilsï¼Œå‡å°‘ 0.5-1 å¤©å·¥ä½œé‡
- SearchManager å¤ç”¨å¹¶è¿ç§» PluginManager.search()ï¼Œå‡å°‘ 0.5-1 å¤©å·¥ä½œé‡
- MetadataManager è¿ç§»ç°æœ‰ CLI é€»è¾‘ï¼Œæ¯”ä»é›¶å¼€å‘èŠ‚çœæ—¶é—´
- é‡æ„ä¸æ–°åŠŸèƒ½å¼€å‘å¹¶è¡Œï¼Œæé«˜æ•ˆç‡
- é¿å…é‡å¤å®ç°ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ï¼Œæé«˜ä»£ç è´¨é‡

---

## 6. æˆåŠŸæ ‡å‡†

### 6.1 åŠŸèƒ½å®Œæ•´æ€§
- âœ… JTable æ”¯æŒå…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½ï¼ˆæœç´¢åŠŸèƒ½ä¸é€‚ç”¨ï¼‰
- âœ… Memojav æ”¯æŒå…ƒæ•°æ®æå–å’Œè§†é¢‘ä¸‹è½½ï¼ˆæœç´¢åŠŸèƒ½ä¸é€‚ç”¨ï¼‰
- â³ organize å‘½ä»¤ï¼ˆæ¡†æ¶å·²å»ºç«‹ï¼Œæ ¸å¿ƒåŠŸèƒ½å¾…å®ç°ï¼‰
- âŒ æ”¯æŒå¤šç§æ–‡ä»¶åæ¨¡æ¿ï¼ˆå¾…å®ç°ï¼‰
- âŒ æ”¯æŒå†²çªå¤„ç†ç­–ç•¥ï¼ˆå¾…å®ç°ï¼‰

### 6.2 ä»£ç è´¨é‡
- âœ… JTable æ’ä»¶æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼ˆ25ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
- âœ… Memojav æ’ä»¶æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼ˆ19ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰
- âœ… æ‰€æœ‰ pyright æ£€æŸ¥é€šè¿‡ï¼ˆ0 errorsï¼‰
- âœ… ä»£ç é£æ ¼ç»Ÿä¸€

### 6.3 æ€§èƒ½æŒ‡æ ‡
- âŒ å•æ–‡ä»¶æ•´ç†æ—¶é—´ < 10sï¼ˆå¾…æµ‹è¯•ï¼‰
- âŒ æ‰¹é‡å¤„ç†æ”¯æŒå¹¶å‘ï¼ˆå¾…å®ç°ï¼‰
- âŒ æœç´¢å“åº”æ—¶é—´ < 3sï¼ˆå¾…æµ‹è¯•ï¼‰

### 6.4 ç”¨æˆ·ä½“éªŒ
- â³ CLI ç•Œé¢å‹å¥½ï¼Œæç¤ºæ¸…æ™°ï¼ˆæ¡†æ¶å·²å»ºç«‹ï¼‰
- âŒ æ”¯æŒé¢„è§ˆæ¨¡å¼ï¼ˆdry-runï¼‰ï¼ˆå¾…å®ç°ï¼‰
- âŒ é”™è¯¯å¤„ç†å®Œå–„ï¼ˆå¾…å®ç°ï¼‰
- âŒ æ–‡æ¡£å®Œæ•´å‡†ç¡®ï¼ˆå¾…æ›´æ–°ï¼‰

---

## 7. é£é™©è¯„ä¼°

### 7.1 æŠ€æœ¯é£é™©

**é£é™©**: æœç´¢åŠŸèƒ½ä¾èµ–ç½‘ç«™ç»“æ„ï¼Œå¯èƒ½å˜åŒ–
- **ç¼“è§£**: 
  - è®¾è®¡çµæ´»çš„è§£æå™¨
  - æ·»åŠ é™çº§æ–¹æ¡ˆ
  - åŠæ—¶æ›´æ–°ç»´æŠ¤

**é£é™©**: æ–‡ä»¶æ“ä½œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±
- **ç¼“è§£**:
  - å¼ºåˆ¶ä½¿ç”¨ dry-run é¢„è§ˆ
  - æ·»åŠ ç¡®è®¤æç¤º
  - å®ç°å›æ»šæœºåˆ¶
  - è¯¦ç»†æ—¥å¿—è®°å½•

**é£é™©**: æ–‡ä»¶åæ¨¡æ¿å¯èƒ½äº§ç”Ÿéæ³•è·¯å¾„
- **ç¼“è§£**:
  - ä¸¥æ ¼éªŒè¯æ¨¡æ¿
  - è¿‡æ»¤éæ³•å­—ç¬¦
  - è·¯å¾„é•¿åº¦æ£€æŸ¥

### 7.2 å…¼å®¹æ€§é£é™©

**é£é™©**: æ’ä»¶å‡çº§å¯èƒ½å½±å“ç°æœ‰ç”¨æˆ·
- **ç¼“è§£**:
  - ä¿æŒå‘åå…¼å®¹
  - æä¾›è¿ç§»å·¥å…·
  - è¯¦ç»†çš„å‡çº§æŒ‡å—

### 7.3 æ—¶é—´é£é™©

**é£é™©**: å·¥ä½œé‡å¯èƒ½è¶…å‡ºé¢„æœŸ
- **ç¼“è§£**:
  - åˆ†é˜¶æ®µå¼€å‘
  - ä¼˜å…ˆå®Œæˆæ ¸å¿ƒåŠŸèƒ½
  - é¢„ç•™ç¼“å†²æ—¶é—´

---

## 8. å‘å¸ƒæ£€æŸ¥æ¸…å•

### 8.1 ä»£ç 
- [ ] æ‰€æœ‰æ–°åŠŸèƒ½å·²å®ç°
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] Pyright æ£€æŸ¥é€šè¿‡ï¼ˆ0 errorsï¼‰
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ

### 8.2 æ–‡æ¡£
- [ ] API æ–‡æ¡£å·²æ›´æ–°
- [ ] ç”¨æˆ·æ–‡æ¡£å·²æ›´æ–°
- [ ] å˜æ›´æ—¥å¿—å·²æ›´æ–°
- [ ] README å·²æ›´æ–°
- [ ] ç¤ºä¾‹ä»£ç å·²éªŒè¯

### 8.3 å‘å¸ƒ
- [ ] ç‰ˆæœ¬å·ç¡®è®¤ä¸º 0.2.2
- [ ] åˆ›å»º Git æ ‡ç­¾
- [ ] å‡†å¤‡å‘å¸ƒè¯´æ˜
- [ ] æ›´æ–°ä¾èµ–ç‰ˆæœ¬

---

## 9. åç»­è§„åˆ’

### 9.1 v0.2.3 å€™é€‰åŠŸèƒ½
- æ›´å¤šç½‘ç«™æ”¯æŒï¼ˆDMM, MGS ç­‰ï¼‰
- å­—å¹•æ–‡ä»¶å¤„ç†
- é‡å¤æ–‡ä»¶æ£€æµ‹
- Web UI ç•Œé¢

### 9.2 é•¿æœŸç›®æ ‡
- æ’ä»¶å¸‚åœº
- äº‘ç«¯å…ƒæ•°æ®åŒæ­¥
- ç§»åŠ¨ç«¯æ”¯æŒ
- ç¤¾åŒºè´¡çŒ®å¹³å°

---

## é™„å½•

### A. æ–‡ä»¶åæ¨¡æ¿å˜é‡å‚è€ƒ

| å˜é‡ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `{code}` | è§†é¢‘ä»£ç  | `SSIS-123` |
| `{title}` | æ ‡é¢˜ | `ç¾å°‘å¥³` |
| `{actor}` | ä¸»æ¼”ï¼ˆç¬¬ä¸€ä¸ªï¼‰ | `ä¸‰ä¸Šæ‚ äºœ` |
| `{actors}` | æ‰€æœ‰ä¸»æ¼”ï¼ˆé€—å·åˆ†éš”ï¼‰ | `ä¸‰ä¸Šæ‚ äºœ,æ©‹æœ¬ã‚ã‚Šãª` |
| `{studio}` | åˆ¶ä½œå•† | `S1` |
| `{label}` | å‘è¡Œå•† | `S1 NO.1 STYLE` |
| `{year}` | å¹´ä»½ | `2024` |
| `{date}` | å®Œæ•´æ—¥æœŸ | `2024-01-01` |
| `{site}` | ç½‘ç«™å | `MissAV` |
| `{genres}` | ç±»å‹ï¼ˆé€—å·åˆ†éš”ï¼‰ | `ç¾å°‘å¥³,å•ä½“ä½œå“` |

### B. ç›®å½•ç»“æ„æ¨¡æ¿ç¤ºä¾‹

```bash
# æŒ‰åˆ¶ä½œå•†åˆ†ç±»
{studio}/{code} {title}
# ç¤ºä¾‹: S1/SSIS-123 ç¾å°‘å¥³

# æŒ‰å¹´ä»½å’Œåˆ¶ä½œå•†åˆ†ç±»
{year}/{studio}/{code}
# ç¤ºä¾‹: 2024/S1/SSIS-123

# æŒ‰æ¼”å‘˜åˆ†ç±»
{actor}/{code} {title}
# ç¤ºä¾‹: ä¸‰ä¸Šæ‚ äºœ/SSIS-123 ç¾å°‘å¥³

# å¤šçº§åˆ†ç±»
{year}/{studio}/{actor}/{code}
# ç¤ºä¾‹: 2024/S1/ä¸‰ä¸Šæ‚ äºœ/SSIS-123

# ä»…ä»£ç ï¼ˆæ‰å¹³ç»“æ„ï¼‰
{code}
# ç¤ºä¾‹: SSIS-123
```

### C. é…ç½®æ–‡ä»¶ç¤ºä¾‹

```yaml
# config.yaml

# æ–‡ä»¶æ•´ç†é…ç½®
organize:
  # é»˜è®¤ç›®å½•ç»“æ„æ¨¡æ¿
  structure: "{studio}/{code} {title}"
  
  # é»˜è®¤æ–‡ä»¶åæ¨¡æ¿
  filename: "{code}"
  
  # å†²çªå¤„ç†ç­–ç•¥: skip, rename, overwrite
  on_conflict: rename
  
  # æ˜¯å¦ä¿å­˜å…ƒæ•°æ®æ–‡ä»¶
  save_metadata: true
  
  # æ˜¯å¦ä¸‹è½½å°é¢å›¾ç‰‡
  save_cover: true
  
  # æ”¯æŒçš„è§†é¢‘æ‰©å±•å
  video_extensions:
    - .mp4
    - .mkv
    - .avi
    - .mov
    - .wmv
    - .flv
    - .ts
  
  # æœç´¢æ’ä»¶ä¼˜å…ˆçº§
  search_priority:
    - missav
    - jtable
    - memojav
    - av01
```

---

## ğŸ“‹ ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®ï¼ˆ2025-12-30æ›´æ–°ï¼‰

åŸºäºå½“å‰è¿›åº¦ï¼ˆ65%å®Œæˆï¼‰ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ç»§ç»­å¼€å‘ï¼š

### âœ… ä¼˜å…ˆçº§ 1: MetadataManagerï¼ˆå…ƒæ•°æ®ç®¡ç†å™¨ï¼‰- å·²å®Œæˆ

**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆ2025-12-30ï¼‰

**ä½ç½®**: `pavone/manager/metadata_manager.py`ï¼ˆ235 è¡Œï¼‰

**æµ‹è¯•**: 21/21 æµ‹è¯•é€šè¿‡ï¼ˆ`tests/test_metadata_manager.py`ï¼Œ341 è¡Œï¼‰

**å®ç°åŠŸèƒ½**:
1. âœ… **å…ƒæ•°æ®è·å–** - ä»æ ‡è¯†ç¬¦ï¼ˆURL/ä»£ç ï¼‰æˆ– SearchResult è·å–å…ƒæ•°æ®
2. âœ… **æ™ºèƒ½ç¼“å­˜** - åŒé”®ç¼“å­˜ï¼ˆURL + ä»£ç ï¼‰ï¼Œé¿å…é‡å¤è¯·æ±‚
3. âœ… **æ‰¹é‡å¤„ç†** - æ”¯æŒæ‰¹é‡è·å–ï¼Œå¸¦è¿›åº¦å›è°ƒ
4. âœ… **æ’ä»¶è‡ªåŠ¨é€‰æ‹©** - æ ¹æ®æ ‡è¯†ç¬¦è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ’ä»¶
5. âœ… **å…¨å±€å®ä¾‹ç®¡ç†** - æä¾› `get_metadata_manager()` å·¥å‚å‡½æ•°
6. âœ… **å¼‚å¸¸å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

**æˆæœ**:
- ç»Ÿä¸€äº†å…ƒæ•°æ®è·å–æ¥å£
- ä» CLI ä»£ç ä¸­æå–å¹¶å¢å¼ºäº†å…ƒæ•°æ®é€»è¾‘
- é«˜ä»£ç å¤ç”¨ç‡ï¼Œé¿å…é‡å¤å¼€å‘
- å®Œæ•´çš„ç±»å‹æ³¨è§£å’Œæµ‹è¯•è¦†ç›–

---

### âœ… ä¼˜å…ˆçº§ 2: FileOperationBuilderï¼ˆæ–‡ä»¶æ“ä½œæ„å»ºå™¨ï¼‰- å·²å®Œæˆ

**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆ2025-12-30ï¼‰

**ä½ç½®**: `pavone/utils/file_operation_builder.py`ï¼ˆ283 è¡Œï¼‰

**æµ‹è¯•**: 23/23 æµ‹è¯•é€šè¿‡ï¼ˆ`tests/test_file_operation_builder.py`ï¼Œ413 è¡Œï¼‰

**å®ç°åŠŸèƒ½**:
1. âœ… **æ–‡ä»¶åç”Ÿæˆ** - æ”¯æŒå¤šç§æ¨¡æ¿ï¼ˆ{code}, {title}, {studio}, {year}, {actors}ï¼‰
2. âœ… **æ–‡ä»¶æ“ä½œæ„å»º** - åˆ›å»º MOVE ç±»å‹çš„ OperationItem
3. âœ… **å†²çªå¤„ç†** - ä¸‰ç§ç­–ç•¥ï¼ˆrename è¿½åŠ åºå·ã€skip è·³è¿‡ã€overwrite è¦†ç›–ï¼‰
4. âœ… **æ‰¹é‡æ“ä½œ** - æ”¯æŒæ‰¹é‡æ„å»ºï¼Œå¸¦é”™è¯¯å¤„ç†
5. âœ… **æ–‡ä»¶åæ¸…ç†** - ç§»é™¤éæ³•å­—ç¬¦ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹

**é…ç½®æ‰©å±•**:
- åœ¨ `OrganizeConfig` ä¸­æ·»åŠ äº† `on_conflict` å­—æ®µ
- æ”¯æŒçµæ´»çš„æ–‡ä»¶å‘½åæ¨¡å¼é…ç½®

**æˆæœ**:
- å®Œæ•´çš„æ–‡ä»¶æ“ä½œæ„å»ºé€»è¾‘
- é«˜æµ‹è¯•è¦†ç›–ç‡ï¼ˆ23ä¸ªæµ‹è¯•ï¼‰
- ç±»å‹å®‰å…¨ï¼ˆä½¿ç”¨ TYPE_CHECKING é¿å…å¾ªç¯å¯¼å…¥ï¼‰
- é¿å…å¾ªç¯å¯¼å…¥é—®é¢˜ï¼ˆä¸åœ¨ utils/__init__.py ä¸­å¯¼å‡ºï¼‰

---

### ğŸ¯ ä¼˜å…ˆçº§ 3: Executor æ‰©å±•

**ç›®æ ‡**: æ‰©å±•ç°æœ‰æ‰§è¡Œå™¨æ”¯æŒæ–‡ä»¶æ•´ç†æ“ä½œ

**ä½ç½®**: `pavone/manager/execution.py`ï¼ˆç°æœ‰æ–‡ä»¶ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:
1. **MOVE æ“ä½œæ”¯æŒ** - æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨
2. **å®‰å…¨æ£€æŸ¥** - éªŒè¯æºæ–‡ä»¶å­˜åœ¨ã€ç›®æ ‡ç›®å½•å¯å†™
3. **å›æ»šæ”¯æŒ** - æ“ä½œå¤±è´¥æ—¶çš„å›æ»šæœºåˆ¶

**é¢„è®¡å·¥ä½œé‡**: 0.5-1 å¤©

**ä¾èµ–**: âœ… FileOperationBuilderï¼ˆå·²å®Œæˆï¼‰

---

### ğŸ¯ ä¼˜å…ˆçº§ 4: CLI å‘½ä»¤å®Œå–„

**ç›®æ ‡**: å®Œå–„ organize å‘½ä»¤çš„å®ç°

**ä½ç½®**: `pavone/cli/commands/organize.py`ï¼ˆç°æœ‰æ–‡ä»¶ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:
1. **æ–‡ä»¶æ‰«æ** - æ‰«ææŒ‡å®šç›®å½•çš„è§†é¢‘æ–‡ä»¶
2. **è¿›åº¦æ˜¾ç¤º** - ä½¿ç”¨ ProgressManager æ˜¾ç¤ºè¿›åº¦
3. **äº¤äº’ç¡®è®¤** - æ“ä½œå‰è®©ç”¨æˆ·ç¡®è®¤
4. **é”™è¯¯å¤„ç†** - å‹å¥½çš„é”™è¯¯æç¤º

**é¢„è®¡å·¥ä½œé‡**: 1 å¤©

**ä¾èµ–**: 
- âœ… MetadataManagerï¼ˆå·²å®Œæˆï¼‰
- âœ… FileOperationBuilderï¼ˆå·²å®Œæˆï¼‰
- Executoræ‰©å±•ï¼ˆä¼˜å…ˆçº§3ï¼‰

---

### ğŸ“Š å¼€å‘æ—¶é—´è¡¨æ›´æ–°

| ä¼˜å…ˆçº§ | ç»„ä»¶ | é¢„è®¡å·¥ä½œé‡ | çŠ¶æ€ | ç´¯è®¡è¿›åº¦ |
|--------|------|------------|------|----------|
| âœ… | FilenameParser | - | å·²å®Œæˆ | 55% |
| âœ… | SearchManager | - | å·²å®Œæˆ | 55% |
| âœ… | MetadataManager | - | å·²å®Œæˆ (2025-12-30) | 65% |
| âœ… | FileOperationBuilder | - | å·²å®Œæˆ (2025-12-30) | **75%** |
| 3ï¸âƒ£ | Executor æ‰©å±• | 0.5-1 å¤© | å¾…å¼€å§‹ | â†’ 80% |
| 4ï¸âƒ£ | CLI å‘½ä»¤å®Œå–„ | 1 å¤© | å¾…å¼€å§‹ | â†’ 85% |
| 5ï¸âƒ£ | é›†æˆæµ‹è¯• | 1 å¤© | å¾…å¼€å§‹ | â†’ 95% |
| 6ï¸âƒ£ | æ–‡æ¡£æ›´æ–° | 0.5 å¤© | å¾…å¼€å§‹ | â†’ 100% |

**æ€»è®¡å‰©ä½™å·¥ä½œé‡**: çº¦ 3-3.5 å¤©ï¼ˆä»åŸ 4-5.5 å¤©å‡å°‘ï¼‰

---

### ğŸ’¡ æŠ€æœ¯å»ºè®®

1. **âœ… MetadataManager å·²å®Œæˆ**
   - æ ¸å¿ƒç»„ä»¶å¼€å‘å®Œæˆï¼Œåç»­ç»„ä»¶å¯åŸºäºå®ƒå¼€å‘
   - å·²å®ç°ç¼“å­˜æœºåˆ¶ï¼Œæ€§èƒ½è‰¯å¥½
   - å®Œæ•´çš„ç±»å‹æ³¨è§£å’Œæµ‹è¯•è¦†ç›–ï¼ˆ21/21 æµ‹è¯•é€šè¿‡ï¼‰

2. **âœ… FileOperationBuilder å·²å®Œæˆ**
   - æ‰€æœ‰ä¾èµ–å·²å°±ç»ªå¹¶å®Œæˆå¼€å‘
   - å®ç°äº†å®Œæ•´çš„æ–‡ä»¶åç”Ÿæˆå’Œå†²çªå¤„ç†é€»è¾‘
   - 23ä¸ªæµ‹è¯•è¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
   - ä½¿ç”¨ TYPE_CHECKING é¿å…å¾ªç¯å¯¼å…¥

3. **ä¸‹ä¸€æ­¥ï¼šExecutor æ‰©å±•**
   - æ‰€æœ‰ä¾èµ–å·²å°±ç»ªï¼ˆFileOperationBuilder âœ…ï¼‰
   - éœ€è¦æ‰©å±•ç°æœ‰æ‰§è¡Œå™¨æ”¯æŒ MOVE æ“ä½œ
   - å»ºè®®å…ˆå®ç°åŸºç¡€ç§»åŠ¨åŠŸèƒ½ï¼Œå†æ·»åŠ å›æ»šæœºåˆ¶

4. **ä¿æŒæµ‹è¯•è¦†ç›–ç‡**
   - æ¯ä¸ªç»„ä»¶éƒ½åº”æœ‰å®Œæ•´çš„å•å…ƒæµ‹è¯•
   - å·²æœ‰ç¤ºä¾‹ï¼šFilenameParserï¼ˆ188æµ‹è¯•ï¼‰ã€SearchManagerï¼ˆ19æµ‹è¯•ï¼‰ã€MetadataManagerï¼ˆ21æµ‹è¯•ï¼‰ã€FileOperationBuilderï¼ˆ23æµ‹è¯•ï¼‰

5. **ä»£ç è´¨é‡ä¿æŒ**
   - âœ… Pyright é…ç½®å·²ä¼˜åŒ–ï¼ˆ0 é”™è¯¯ï¼Œ0 è­¦å‘Šï¼‰
   - âœ… VSCode è®¾ç½®å·²åŒæ­¥
   - âœ… æ‰€æœ‰è´¨é‡æ£€æŸ¥é€šè¿‡ï¼ˆ251/251 æµ‹è¯•ï¼‰
   - ç»§ç»­ä¿æŒä¸¥æ ¼çš„ç±»å‹æ³¨è§£å’Œä»£ç è§„èŒƒ

6. **æ¸è¿›å¼å¼€å‘**
   - å…ˆå®ç°åŸºç¡€åŠŸèƒ½
   - å†æ·»åŠ é«˜çº§ç‰¹æ€§ï¼ˆå¦‚å¤æ‚å†²çªå¤„ç†ã€å…ƒæ•°æ®æ–‡ä»¶ä¿å­˜ï¼‰
   - æ¯ä¸ªé˜¶æ®µéƒ½è¦æµ‹è¯•éªŒè¯

---

### ğŸš€ ç«‹å³å¼€å§‹

**æ¨èä¸‹ä¸€æ­¥**: ç«‹å³å¼€å§‹ Executor æ‰©å±•çš„å¼€å‘

```bash
# 1. åˆ›å»ºæ–‡ä»¶
touch pavone/manager/metadata_manager.py
touch tests/test_metadata_manager.py

# 2. è¿è¡Œæµ‹è¯•ï¼ˆTDDå¼€å‘ï¼‰
.\dev.ps1 test -Arguments "tests/test_metadata_manager.py"
```

**å‚è€ƒç°æœ‰ä»£ç **:
- CLI ä¸­çš„å…ƒæ•°æ®å¤„ç†é€»è¾‘ï¼ˆéœ€è¦è¿ç§»çš„ä»£ç ï¼‰
- SearchManager çš„å®ç°æ¨¡å¼ï¼ˆç¼“å­˜ã€å…¨å±€å®ä¾‹ï¼‰
- PluginManager çš„æ’ä»¶è°ƒç”¨æ–¹å¼
